{% extends "page.html" %}

{% comment %}
###########################################################################
#
#  Copyright 2019 Google Inc.
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      https://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
#
###########################################################################
{% endcomment %}

{% block content %}

  <div class="split">
    <div class="split_left right-align">

      <div class="card blue left-align">
        <div class="card-content white-text">
          <i class="right large material-icons">cloud</i>
          <span class="card-title">Manage Project</span>
          <p>Store your Cloud Project credentials here and use them to deploy recipes.</p>
        </div>
      </div>
      <br/>

      <p><a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank" class="waves-effect waves-light btn blue form_button">
          Create Cloud Project <i class="material-icons right">build</i>
      </a></p>
      <p><a href="https://cloud.google.com/storage/docs/authentication#generating-a-private-key" target="_blank" class="waves-effect waves-light btn blue form_button">
          Create Service Key <i class="material-icons right">vpn_key</i>
      </a></p>
      <br/>

      <p><strong>Roles we recommend:</strong>
        <br/>bigquery.jobs.create
        <br/>bigquery.jobs.get
        <br/>bigquery.tables.create
        <br/>bigquery.tables.update
        <br/>bigquery.tables.updateData
      </p>

    </div>

    <div class="split_right left-align">
      <form action="." method="post">
        {% csrf_token %}

        <div class="card-panel">
          <h3>Edit Project</h3>
          <p class="flow-text">Copy and paste the JSON service credentials here.</p>
          <br/>
          {% with fields=form_project %}
            {% include "form_fields.html" %}
          {% endwith %}
        </div>
           
  
        {% if form_project.instance.pk %}
          <a class="btn waves-effect waves-light red darken-2 right" href="{{ form_project.instance.link_delete }}">
            Delete <i class="material-icons right">delete</i>
          </a>
        {% endif %}
  
        <button class="btn blue waves-effect waves-light" type="submit" name="action">
          Save <i class="material-icons right">save</i>
        </button>
  
      </form>
    </div>

  </div>

{% endblock %}
