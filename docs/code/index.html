




<!DOCTYPE html>
<html>
  <head>

    <link rel="shortcut icon" href="https://storage.googleapis.com/starthinker-ui/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://storage.googleapis.com/starthinker-ui/favicon.ico" type="image/x-icon">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://storage.googleapis.com/starthinker-ui/css/materialize.min.css">

    <style>
       html { color: rgba(68,68,68,1); text-shadow: 5px 5px 15px rgba(168,168,168,0.5); }
 
       .material-icons { line-height: normal; vertical-align: middle; }

       #message { justify-content: center; font-size: 2em;}
       #message i { font-size: 2em; margin: 10px; }
       #message ul, #message li { display: inline; margin-left: 10px; }
       #page { width: 100%; max-width: 1280px; min-height: 500px; margin: 0px auto; padding-bottom: 50px; }

       span.square_box {
         display: inline-block;
         width: 40px;
         height: 40px;
         border: 2px solid #fff;
         text-align: center;
         line-height: 40px;
         margin: 5px;
       }

       div.nav-wrapper { padding-left: 1%; padding-right: 1%; }
       h1 a i.material-icons { font-size: 3.28rem; }
       a.brand-logo img { vertical-align: middle; width: 40px; height: 40px; }
       ol li { line-height: 1.8em; }
       textarea { margin-top: 7px; height: 10rem; }
       table.list { width: 96%; max-width: 800px; margin: 1vh auto; line-height: 1.8em; }
       a.menu_link, span.menu_link { display: inline-block; margin: 2px; }
       a.btn { margin: 2px; }

       div.split { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; width: 100%; margin: 20px auto; }
       div.split_left { flex-grow: 1; flex-basis: 0; min-width: 300px; border-right: 1px solid #eee; padding: 20px; }
       div.split_right { flex-grow: 2; flex-basis: 0; min-width: 300px; padding: 20px; }

       div.service_card { min-height: 250px; width: 300px; margin: 10px;}
       div.service_callouts { display: flex; align-items: flex-start; justify-content: left; flex-wrap: wrap; width: 100%; }
       div.service_callout { min-width: 48%; margin-right: 2%; line-height: 2.4em;}
       div.row { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; }

       #cards { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; width: 100%; }
       #cards div.card { width: 300px; margin: 20px; padding: 0.1px; text-align: left; }
       div.card h4 { width 100%; padding: 20px;}
       div.card h4 i.material-icons { font-size: 2.28rem; }
       div.card table { margin: 0px 5% 30px 5%; width: 90%; }

       .card .card-content .card-title { word-wrap: break-word; }
       div.input-field { padding-top: 0.1px; margin-top: 2.4em;}

       
    </style>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  
  <nav class="green lighten-0">
    <div class="nav-wrapper">
      <a href="/starthinker/" class="brand-logo">
        <img src="https://storage.googleapis.com/starthinker-ui/StarThinker.png"/>&nbsp;StarThinker
      </a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        
        
        <li><a href="/starthinker/solution/">Solutions</a></li>
        <li><a href="/starthinker/code/">Coding</a></li>
        
        
      </ul>
      <ul class="side-nav red lighten-1" id="mobile-demo">
        
        
        
        <li><a class="white-text" href="/starthinker/solution/">Solutions</a></li>
        <li><a class="white-text" href="/starthinker/code/">Code</a></li>
        
        
      </ul>
    </div>
  </nav>
  

  <body>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://storage.googleapis.com/starthinker-ui/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://storage.googleapis.com/starthinker-ui/js/materialize.min.js"></script>

    

    <div id="page" class="center">
      

  <h1 id="recipe-scripts">Creating A Workflow Recipe</h1>

  <p class="flow-text">StarThinker will get your custom solutions prototyped and scaled quickly.<br/>Using the <a href="https://github.com/google/starthinker" target="_blank">open source code</a>, each JSON task can be combined to form custom recipes.</p>  

  <p>
    <a href="https://github.com/google/starthinker/blob/master/tutorials/README.md#deployment" class="waves-effect waves-light btn blue form_button modal-trigger" target="_blank">
      Deployment Steps<i class="material-icons right">launch</i>
    </a>
    <a href="https://github.com/google/starthinker/blob/master/tutorials/README.md#development" class="waves-effect waves-light btn blue form_button modal-trigger" target="_blank">
      Developer Guide<i class="material-icons right">build</i>
    </a>
    <a href="https://github.com/google/starthinker/blob/master/tutorials/ui_recipe.md" class="waves-effect waves-light btn blue form_button modal-trigger" target="_blank">
      UI How To<i class="material-icons right">laptop</i>
    </a>
  </p>

  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_1">BigQuery</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_2">CM</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_3">Cross Product</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_4">DV360</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_5">Drive</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_6">Google API</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_7">Google Analytics</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_8">Salesforce</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_9">Sheets</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_10">SmartSheet</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_11">Storage</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_12">Test</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_13">Twitter</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_14">Video</span>
  

  <br/><br/>
  
    <table class="view_product bordered highlight list" id="view_product_1">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">waves</i></td>
          <td style="vertical-align: top;">
            <h4>Anonymize Dataset</h4>
            <p>TASK: anonymize</p>
            <p>Copies tables and view from one dataset to another and anynonamizes all rows.  Used to create sample datasets for dashboards.</p>
            <ol>
              <li>Ensure you have user access to both datasets.</li><li>Provide the source project and dataset.</li><li>Provide the destination project and dataset.</li>
            </ol>
            <pre class="view_code" id="view_code_anonymize" style="display:none;">[
    {
        &quot;anonymize&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;bigquery&quot;: {
                &quot;from&quot;: {
                    &quot;project&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;from_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;description&quot;: &quot;Original project to copy from.&quot;
                        }
                    },
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;from_dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 2,
                            &quot;description&quot;: &quot;Original dataset to copy from.&quot;
                        }
                    }
                },
                &quot;to&quot;: {
                    &quot;project&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;to_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: null,
                            &quot;description&quot;: &quot;Anonymous data will be writen to.&quot;
                        }
                    },
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;to_dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;description&quot;: &quot;Anonymous data will be writen to.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/anonymize.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/anonymize_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/anonymize.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_anonymize">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">device_hub</i></td>
          <td style="vertical-align: top;">
            <h4>Column Mapping</h4>
            <p>TASK: mapping</p>
            <p>Use sheet to define keyword to column mappings.</p>
            <ol>
              <li>For the sheet, provide the full URL.</li><li>A tab called <strong>Mapping</strong> will be created.</li><li>Follow the instructions in the tab to complete the mapping.</li><li>The in table should have the columns you want to map.</li><li>The out view will have the new columns created in the mapping.</li>
            </ol>
            <pre class="view_code" id="view_code_mapping" style="display:none;">[
    {
        &quot;mapping&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheet&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;tab&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;in&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;in_dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;in_table&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;out_dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 7,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;view&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;out_view&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 8,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/mapping.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/mapping_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/mapping.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_mapping">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">folder</i></td>
          <td style="vertical-align: top;">
            <h4>Dataset</h4>
            <p>TASK: dataset</p>
            <p>Create and permission a dataset in BigQuery.</p>
            <ol>
              <li>Specify the name of the dataset.</li><li>If dataset exists, it is inchanged.</li><li>Add emails and / or groups to add read permission.</li><li>CAUTION: Removing permissions in StarThinker has no effect.</li><li>CAUTION: To remove permissions you have to edit the dataset.</li>
            </ol>
            <pre class="view_code" id="view_code_dataset" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset_dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;
                }
            },
            &quot;emails&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset_emails&quot;,
                    &quot;kind&quot;: &quot;string_list&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: [],
                    &quot;description&quot;: &quot;Comma separated emails.&quot;
                }
            },
            &quot;groups&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset_groups&quot;,
                    &quot;kind&quot;: &quot;string_list&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: [],
                    &quot;description&quot;: &quot;Comma separated groups.&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dataset.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dataset_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dataset.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dataset">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <h4>Query To Table</h4>
            <p>TASK: bigquery_query</p>
            <p>Save query results into a BigQuery table.</p>
            <ol>
              <li>Specify a single query and choose legacy or standard mode.</li><li>For PLX use: SELECT * FROM [plx.google:FULL_TABLE_NAME.all] WHERE...</li><li>Every time the query runs it will overwrite the table.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_query" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;query&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;query&quot;,
                        &quot;kind&quot;: &quot;text&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;SQL with newlines and all.&quot;
                    }
                },
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;legacy&quot;,
                        &quot;kind&quot;: &quot;boolean&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: true,
                        &quot;description&quot;: &quot;Query type must match source tables.&quot;
                    }
                }
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                    }
                },
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;table&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Table to create from this query.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bigquery_query.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bigquery_query_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bigquery_query.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_query">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <h4>Query To View</h4>
            <p>TASK: bigquery_view</p>
            <p>Create a BigQuery view.</p>
            <ol>
              <li>Specify a single query and choose legacy or standard mode.</li><li>For PLX use: SELECT * FROM [plx.google:FULL_TABLE_NAME.all] WHERE...</li><li>If the view exists, it is unchanged, delete it manually to re-create.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_view" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;from&quot;: {
                &quot;query&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;query&quot;,
                        &quot;kind&quot;: &quot;text&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;SQL with newlines and all.&quot;
                    }
                },
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;legacy&quot;,
                        &quot;kind&quot;: &quot;boolean&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: true,
                        &quot;description&quot;: &quot;Query type must match source tables.&quot;
                    }
                }
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                    }
                },
                &quot;view&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;view&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;View to create from this query.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bigquery_view.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bigquery_view_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bigquery_view.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_view">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <h4>Query to Sheet</h4>
            <p>TASK: bigquery_to_sheet</p>
            <p>Copy the contents of a query into a Google Sheet.</p>
            <ol>
              <li>Specify the sheet and the query.</li><li>Leave range blank or set to A2 to insert one line down.</li><li>The range is cleared before the sheet is written to.</li><li>To select a table use SELECT * FROM table.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_to_sheet" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;from&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                    }
                },
                &quot;query&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;query&quot;,
                        &quot;kind&quot;: &quot;text&quot;,
                        &quot;order&quot;: 5,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Query to pull data from the table.&quot;
                    }
                },
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;legacy&quot;,
                        &quot;kind&quot;: &quot;boolean&quot;,
                        &quot;order&quot;: 6,
                        &quot;default&quot;: true,
                        &quot;description&quot;: &quot;Use Legacy SQL&quot;
                    }
                }
            },
            &quot;to&quot;: {
                &quot;sheet&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;sheet&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Either sheet url or sheet name.&quot;
                    }
                },
                &quot;tab&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;tab&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of the tab where to put the data.&quot;
                    }
                },
                &quot;range&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;range&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Range in the sheet to place the data, leave blank for whole sheet.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bigquery_to_sheet.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bigquery_to_sheet_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bigquery_to_sheet.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_to_sheet">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <h4>Run Query</h4>
            <p>TASK: bigquery_run_query</p>
            <p>Run query on a project.</p>
            <ol>
              <li>Specify a single query and choose legacy or standard mode.</li><li>For PLX use: SELECT * FROM [plx.google:FULL_TABLE_NAME.all] WHERE...</li><li>For non legacy use: SELECT * `project.datset.table` WHERE...</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_run_query" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;run&quot;: {
                &quot;query&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;query&quot;,
                        &quot;kind&quot;: &quot;text&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;SQL with newlines and all.&quot;
                    }
                },
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;legacy&quot;,
                        &quot;kind&quot;: &quot;boolean&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: true,
                        &quot;description&quot;: &quot;Query type must match table and query format.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bigquery_run_query.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bigquery_run_query_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bigquery_run_query.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_run_query">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <h4>Storage To Table</h4>
            <p>TASK: bigquery_storage</p>
            <p>Move using bucket and path prefix.</p>
            <ol>
              <li>Specify a bucket and path prefix, * suffix is NOT required.</li><li>Every time the job runs it will overwrite the table.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_storage" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;from&quot;: {
                &quot;bucket&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;bucket&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Google cloud bucket.&quot;
                    }
                },
                &quot;path&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;path&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Path prefix to read from, no * required.&quot;
                    }
                }
            },
            &quot;to&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                    }
                },
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;table&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Table to create from this query.&quot;
                    }
                }
            },
            &quot;schema&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;schema&quot;,
                    &quot;kind&quot;: &quot;json&quot;,
                    &quot;order&quot;: 5,
                    &quot;default&quot;: &quot;[]&quot;,
                    &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bigquery_storage.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bigquery_storage_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bigquery_storage.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_storage">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_2" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>Bulkdozer</h4>
            <p>TASK: bulkdozer</p>
            <p>Bulkdozer is a tool that can reduce trafficking time in Campaign Manager by up to 80%% by providing automated bulk editing capabilities.</p>
            <ol>
              <li>Open the <a href='https://docs.google.com/spreadsheets/d/1wy9I8mJa9rIE7MVEWSClV2Wen3qL8w5wpi3NMGj6w8E' target='_blank'>Bulkdozer 0.26</a> feed.</li><li>Make your own copy of the feed by clicking the File -> Make a copy... menu in the feed.</li><li>Give it a meaninful name including the version, your name, and team to help you identify it and ensure you are using the correct version.</li><li>Under the Account ID field below, enter the your Campaign Manager Network ID.</li><li>Under Sheet URL, enter the URL of your copy of the feed that you just created in the steps above.</li><li>Go to the Store tab of your new feed, and enter your profile ID in the profileId field (cell B2). Your profile ID is visible in Campaign Manager by clicking your avatar on the top right corner.</li><li>Click the 'Save' button below.</li><li>After clicking 'Save', copy this page's URL from your browser address bar, and paste it in the Store tab for the recipe_url field (cell B5) your sheet.</li><li>Bulkdozer is ready for use</li><li>Stay up to date on new releases and other general anouncements by joining <a href='https://groups.google.com/forum/#!forum/bulkdozer-announcements' target='_blank'>Bulkdozer announcements</a>.</li><li>Review the <a href='https://github.com/google/starthinker/blob/master/tutorials/Bulkdozer/Installation_and_User_guides.md' target='_blank'>Bulkdozer documentation</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_bulkdozer" style="display:none;">[
    {
        &quot;traffic&quot;: {
            &quot;hour&quot;: [],
            &quot;account_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;account_id&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;description&quot;: &quot;Campaign Manager Network ID (optional if profile id provided)&quot;,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;dcm_profile_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dcm_profile_id&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;description&quot;: &quot;Campaign Manager Profile ID (optional if account id provided)&quot;,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;auth&quot;: &quot;user&quot;,
            &quot;sheet_url&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheet_url&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;description&quot;: &quot;Feed Sheet URL&quot;,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;timezone&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;recipe_timezone&quot;,
                    &quot;kind&quot;: &quot;timezone&quot;,
                    &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                    &quot;default&quot;: &quot;America/Chicago&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bulkdozer.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bulkdozer_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bulkdozer.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bulkdozer">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM API To BigQuery</h4>
            <p>TASK: dcm_api_to_bigquery</p>
            <p>Write the current state of accounts, subaccounts, profiles, advertisers, campaigns, sites, roles, and reports to BigQuery for a given list of CM accounts.</p>
            <ol>
              <li>Specify the name of the dataset, several tables will be created here.</li><li>If dataset exists, it is inchanged.</li><li>Add CM account ids for the accounts to pull data from.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_api_to_bigquery" style="display:none;">[
    {
        &quot;dcm_api&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;endpoints&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;endpoint&quot;,
                    &quot;kind&quot;: &quot;choice&quot;,
                    &quot;choices&quot;: [
                        &quot;accountPermissionGroups&quot;,
                        &quot;accountPermissions&quot;,
                        &quot;accountUserProfiles&quot;,
                        &quot;accounts&quot;,
                        &quot;ads&quot;,
                        &quot;advertiserGroups&quot;,
                        &quot;advertiserLandingPages&quot;,
                        &quot;advertisers&quot;,
                        &quot;browsers&quot;,
                        &quot;campaigns&quot;,
                        &quot;changeLogs&quot;,
                        &quot;cities&quot;,
                        &quot;connectionTypes&quot;,
                        &quot;contentCategories&quot;,
                        &quot;countries&quot;,
                        &quot;creativeFields&quot;,
                        &quot;creativeGroups&quot;,
                        &quot;creatives&quot;,
                        &quot;directorySites&quot;,
                        &quot;dynamicTargetingKeys&quot;,
                        &quot;eventTags&quot;,
                        &quot;files&quot;,
                        &quot;floodlightActivities&quot;,
                        &quot;floodlightActivityGroups&quot;,
                        &quot;floodlightConfigurations&quot;,
                        &quot;languages&quot;,
                        &quot;metros&quot;,
                        &quot;mobileApps&quot;,
                        &quot;mobileCarriers&quot;,
                        &quot;operatingSystemVersions&quot;,
                        &quot;operatingSystems&quot;,
                        &quot;placementGroups&quot;,
                        &quot;placementStrategies&quot;,
                        &quot;placements&quot;,
                        &quot;platformTypes&quot;,
                        &quot;postalCodes&quot;,
                        &quot;projects&quot;,
                        &quot;regions&quot;,
                        &quot;remarketingLists&quot;,
                        &quot;reports&quot;,
                        &quot;sites&quot;,
                        &quot;sizes&quot;,
                        &quot;subaccounts&quot;,
                        &quot;targetableRemarketingLists&quot;,
                        &quot;targetingTemplates&quot;,
                        &quot;userprofiles&quot;,
                        &quot;userRolePermissionGroups&quot;,
                        &quot;userRolePermissions&quot;,
                        &quot;userRoles&quot;,
                        &quot;videoFormats&quot;
                    ],
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;accounts&quot;: {
                &quot;single_cell&quot;: true,
                &quot;values&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;accounts&quot;,
                        &quot;kind&quot;: &quot;integer_list&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Comma separated CM account ids.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Google BigQuery dataset to create tables in.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm_api_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_api_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm_api_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_api_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM Report</h4>
            <p>TASK: dcm</p>
            <p>Create a CM report from a JSON definition.</p>
            <ol>
              <li>Add a an account as [account_id]@[profile_id]</li><li>Fetch the report JSON definition. Arguably could be better.</li><li>The account is automatically added to the report definition.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;account&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;body&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;body&quot;,
                        &quot;kind&quot;: &quot;json&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;{}&quot;
                    }
                }
            },
            &quot;delete&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;delete&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: false
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM Report Replicate</h4>
            <p>TASK: dcm_replicate_to_bigquery</p>
            <p>Replicate a report across multiple networks and advertisers.</p>
            <ol>
              <li>Provide the name or ID of an existing report.</li><li>Run the recipe once to generate the input sheet called UNDEFINED.</li><li>Enter network and adverrtiser ids to replicate the report.</li><li>Data will be written to BigQuery &gt; UNDEFINED &gt; UNDEFINED &gt; [REPORT NAME]_All</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_replicate_to_bigquery" style="display:none;">[
    {
        &quot;drive&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;copy&quot;: {
                &quot;source&quot;: &quot;https://docs.google.com/spreadsheets/d/1Su3t2YUWV_GG9RD63Wa3GNANmQZswTHstFY6aDPm6qE/&quot;,
                &quot;destination&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;prefix&quot;: &quot;CM Replicate &quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;description&quot;: &quot;Name of document to deploy to.&quot;,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            }
        }
    },
    {
        &quot;dcm_replicate&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM network id.&quot;
                    }
                },
                &quot;id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM template report id, for template&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM template report name, empty if using id instead.&quot;
                    }
                },
                &quot;delete&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;delete&quot;,
                        &quot;kind&quot;: &quot;boolean&quot;,
                        &quot;order&quot;: 6,
                        &quot;default&quot;: false,
                        &quot;description&quot;: &quot;Use only to reset the reports if setup changes.&quot;
                    }
                }
            },
            &quot;in&quot;: {
                &quot;sheet&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;prefix&quot;: &quot;CM Replicate &quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Sheet to read ids from.&quot;
                    }
                },
                &quot;tab&quot;: &quot;Accounts&quot;
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;is_incremental_load&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;Aggregate&quot;,
                            &quot;kind&quot;: &quot;boolean&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: false,
                            &quot;description&quot;: &quot;Append report data to existing table, requires Date column.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm_replicate_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_replicate_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm_replicate_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_replicate_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM Report Run</h4>
            <p>TASK: dcm_run</p>
            <p>Trigger a CM report run</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to run.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_run" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report_run_only&quot;: true,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM network id.&quot;
                    }
                },
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM report id, empty if using name.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM report name, empty if using id instead.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm_run.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_run_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm_run.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_run">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM To BigQuery</h4>
            <p>TASK: dcm_to_bigquery</p>
            <p>Move existing CM report into a BigQuery table.</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to move a report.</li><li>The most recent valid file will overwrite the table.</li><li>Schema is pulled from the official CM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_to_bigquery" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM network id.&quot;
                    }
                },
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM report id, empty if using name .&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM report name, empty if using id instead.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Dataset to be written to in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Table to be written to in BigQuery.&quot;
                        }
                    },
                    &quot;is_incremental_load&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;is_incremental_load&quot;,
                            &quot;kind&quot;: &quot;boolean&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: false,
                            &quot;description&quot;: &quot;Clear data in destination table during this report&#39;s time period, then append report data to existing table.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM To Sheets</h4>
            <p>TASK: dcm_to_sheets</p>
            <p>Move existing CM report into a Sheet tab.</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to move a report.</li><li>The most recent valid file will be moved to the sheet.</li><li>Schema is pulled from the official CM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_to_sheets" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;sheet&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;tab&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;range&quot;: &quot;A1&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm_to_sheets.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_to_sheets_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm_to_sheets.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_to_sheets">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM To Storage</h4>
            <p>TASK: dcm_to_storage</p>
            <p>Move existing CM report into a Storage bucket.</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to move a report.</li><li>The most recent file will be moved to the bucket.</li><li>Schema is pulled from the official CM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_to_storage" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;storage&quot;: {
                    &quot;bucket&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;bucket&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;path&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;path&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;CM_Report&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dcm_to_storage.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dcm_to_storage_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dcm_to_storage.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_to_storage">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <h4>CM User Audit</h4>
            <p>TASK: barnacle</p>
            <p>Gives CM clients ability to see which profiles have access to which parts of an account. Loads CM user profile mappings using the API into BigQuery and connects to a DataStudio dashboard.</p>
            <ol>
              <li>Wait for <b>BigQuery->UNDEFINED->UNDEFINED->CM_*</b> to be created.</li><li>Wait for <b>BigQuery->UNDEFINED->UNDEFINED->Barnacle_*</b> to be created, then copy and connect the following data sources.</li><li>Join the <a hre='https://groups.google.com/d/forum/starthinker-assets' target='_blank'>StarThinker Assets Group</a> to access the following assets</li><li>Copy <a href='https://datastudio.google.com/open/1a6K-XdPUzCYRXZp1ZcmeOUOURc9wn2Jj' target='_blank'>Barnacle Profile Advertiser Map</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1NEzrQWWnPjkD90iUwN-ASKbVBzoeBdoT' target='_blank'>Barnacle Profile Campaign Map</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1v_GRaitwPaHHKUzfJZYNBhzotvZ-bR7Y' target='_blank'>Barnacle Profile Site Map</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/14tWlh7yiqzxKJIppMFVOw2MoMtQV_ucE' target='_blank'>Barnacle Profiles Connections</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1mavjxvHSEPfJq5aW4FYgCXsBCE5rthZG' target='_blank'>Barnacle Report Delivery Profiles</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1Azk_Nul-auinf4NnDq8T9fDyiKkUWD7A' target='_blank'>Barnacle Roles Duplicates</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1ogoofpKtqkLwcW9qC_Ju_JvJdIajsjNI' target='_blank'>Barnacle Roles Not Used</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1xLgZPjOPDtmPyEqYMiMbWwMI8-WTslfj' target='_blank'>Barnacle Site Contacts Profiles</a> and connect.</li><li>If reports checked, copy <a href='https://datastudio.google.com/open/1-YGDiQPDnk0gD78_QOY5XdTXRlTrLeEq' target='_blank'>Barnacle Profile Report Map</a> and connect.</li><li>Copy <a href='https://datastudio.google.com/open/1gjxHm0jUlQUd0jMuxaOlmrl8gOX1kyKT' target='_blank'>Barnacle Report</a>.</li><li>When prompted choose the new data sources you just created.</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_barnacle" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;description&quot;: &quot;The dataset will hold multiple tables, amke sure it exists.&quot;,
            &quot;hour&quot;: [
                1
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;
                }
            }
        }
    },
    {
        &quot;barnacle&quot;: {
            &quot;description&quot;: &quot;Will create tables with format CM_* to hold each endpoint via a call to the API list function. Exclude reports for its own task.&quot;,
            &quot;hour&quot;: [
                1
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;endpoints&quot;: [
                &quot;accounts&quot;,
                &quot;subaccounts&quot;,
                &quot;profiles&quot;,
                &quot;advertisers&quot;,
                &quot;campaigns&quot;,
                &quot;sites&quot;,
                &quot;roles&quot;
            ],
            &quot;reports&quot;: false,
            &quot;accounts&quot;: {
                &quot;single_cell&quot;: true,
                &quot;values&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;accounts&quot;,
                        &quot;kind&quot;: &quot;integer_list&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: [],
                        &quot;description&quot;: &quot;Comma separated CM account ids.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Google BigQuery dataset to create tables in.&quot;
                    }
                }
            }
        }
    },
    {
        &quot;barnacle&quot;: {
            &quot;description&quot;: &quot;Will create tables with format CM_* to hold each endpoint via a call to the API list function. Reports run long so seperate task.&quot;,
            &quot;hour&quot;: [
                3
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;endpoints&quot;: [],
            &quot;reports&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;reports&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: false,
                    &quot;description&quot;: &quot;Include report audit, consumes significant API and data.&quot;
                }
            },
            &quot;accounts&quot;: {
                &quot;single_cell&quot;: true,
                &quot;values&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;accounts&quot;,
                        &quot;kind&quot;: &quot;integer_list&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: [],
                        &quot;description&quot;: &quot;Comma separated CM account ids.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Google BigQuery dataset to create tables in.&quot;
                    }
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;hour&quot;: [
                8
            ],
            &quot;description&quot;: &quot;Combine profile, account, subaccount, and roles into one view, used by other views in this workflow.&quot;,
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   P.profileId AS profileId,   P.accountId AS accountId,   P.subaccountId AS subaccountId,   P.name AS Profile_Name,    P.email AS Profile_Email,    REGEXP_EXTRACT(P.email, r&#39;@(.+)&#39;) AS Profile_Domain,   P.userAccessType AS Profile_userAccessType,    P.active AS Profie_active,    P.traffickerType AS Profile_traffickerType,    P.comments AS Profile_comments,   P.userRoleId AS Profile_userRoleId,    R.role_name AS Role_role_name,    R.role_defaultUserRole AS Role_role_defaultUserRole,    R.permission_name AS Role_permission_name,        R.permission_availability AS Role_permission_availability,   A.name AS Account_name,   A.active AS Account_active,   A.description AS Account_description,   A.locale AS Account_locale,   S.name AS SubAccount_name FROM `[PARAMETER].[PARAMETER].CM_Profiles` AS P  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Roles` AS R    ON P.userRoleId=R.roleId LEFT JOIN `[PARAMETER].[PARAMETER].CM_Accounts` AS A    ON P.accountId=A.accountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_SubAccounts` AS S    ON P.accountId=S.accountId   AND P.subaccountId=S.subaccountId ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Profile_Role_Account_SubAccount_Map&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;Combine profiles and advertisers.&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   APRASM.*,   A.advertiserId AS advertiserId,   A.name AS Advertiser_name,    A.status AS Advertiser_status,    A.defaultEmail AS Advertiser_defaultEmail,    A.suspended AS Advertiser_suspended FROM `[PARAMETER].[PARAMETER].CM_Profile_Advertisers` As PA LEFT JOIN `[PARAMETER].[PARAMETER].Barnacle_Profile_Role_Account_SubAccount_Map` AS APRASM    ON PA.profileID=APRASM.profileID LEFT JOIN `[PARAMETER].[PARAMETER].CM_Advertisers` AS A    ON PA.advertiserId=A.advertiserId ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Profile_Advertiser_Map&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;Profile to campaign mapping.&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   APRASM.*,   C.campaignId AS campaignId,   C.name AS Campaign_name,    C.archived AS Campaign_archived,   IF(C.startDate &lt;= CURRENT_DATE() AND C.endDate &gt;= CURRENT_DATE(), True, False) AS Campaign_running,   ROUND(TIMESTAMP_DIFF(CURRENT_TIMESTAMP(), C.lastModifiedInfo_time, DAY) / 7) AS Campaign_Modified_Weeks_Ago FROM `[PARAMETER].[PARAMETER].CM_Profile_Campaigns` As PC LEFT JOIN `[PARAMETER].[PARAMETER].Barnacle_Profile_Role_Account_SubAccount_Map` AS APRASM    ON PC.profileID=APRASM.profileID  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Campaigns` AS C    ON PC.campaignId=C.campaignId ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Profile_Campaign_Map&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;The logic query for Deal Finder, transforms report into view used by datastudio.&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   APRASM.*,   R.reportId AS reportId,   R.name AS Report_name,    R.type AS Report_type,   R.format AS Report_format,   R.schedule_active AS Report_schedule_active,   R.schedule_repeats AS Report_schedule_repeats,   ROUND(TIMESTAMP_DIFF(CURRENT_TIMESTAMP(), R.lastModifiedTime, DAY) / 7) AS Report_Modified_Weeks_Ago,   DATE_DIFF(R.schedule_expirationDate, CURRENT_DATE(), MONTH) AS Report_Schedule_Weeks_To_Go FROM `[PARAMETER].[PARAMETER].CM_Reports` As R LEFT JOIN `[PARAMETER].[PARAMETER].Barnacle_Profile_Role_Account_SubAccount_Map` AS APRASM    ON R.profileID=APRASM.profileID ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Profile_Report_Map&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;The logic query for Deal Finder, transforms report into view used by datastudio.&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   APRASM.*,   S.siteId AS siteId,   S.name AS Site_Name,    S.keyName AS Site_keyName,    S.approved AS Site_approved FROM `[PARAMETER].[PARAMETER].CM_Profile_Sites` As PS LEFT JOIN `[PARAMETER].[PARAMETER].Barnacle_Profile_Role_Account_SubAccount_Map` AS APRASM    ON PS.profileID=APRASM.profileID  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Sites` AS S    ON PS.siteId=S.siteId ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Profile_Site_Map&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;The logic query for Deal Finder, transforms report into view used by datastudio.&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT    APRASM.* FROM `[PARAMETER].[PARAMETER].Barnacle_Profile_Role_Account_SubAccount_Map` AS APRASM LEFT JOIN `[PARAMETER].[PARAMETER].CM_Profile_Advertisers` AS PA    ON APRASM.profileId=PA.profileId  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Profile_Campaigns` AS PC    ON APRASM.profileId=PC.profileId  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Profile_Sites` AS PS   ON APRASM.profileId=PS.profileId  WHERE   PA.advertiserId IS NULL   AND PC.campaignId IS NULL   AND PS.siteId IS NULL  &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Profiles_Connections&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   RD.accountId AS accountId,   RD.subaccountId AS subaccountId,   RD.reportId AS reportId,   A.name AS Account_name,   A.active AS Account_active,   SA.name as SubAccount_name,   R.name as Report_name,   R.schedule_active AS Report_schedule_active,   RD.emailOwnerDeliveryType AS Delivery_emailOwnerDeliveryType,   RD.deliveryType AS Delivery_deliveryType,   RD.email AS Delivery_email,   RD.message AS Delivery_message,   IF(RD.email in (SELECT email from `[PARAMETER].[PARAMETER].CM_Profiles`), True, False) AS Profile_Match_Exists FROM `[PARAMETER].[PARAMETER].CM_Report_Deliveries` AS RD  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Accounts` AS A    ON RD.accountId=A.accountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_SubAccounts` AS SA    ON RD.subaccountId=SA.subaccountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_Reports` AS R    ON RD.reportId=R.reportId &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Report_Delivery_Profiles&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   R.accountId AS accountId,   R.subaccountId AS subaccountId,   R.roleId AS roleId,   A.name AS Account_name,   A.active AS Account_active,   SA.name AS SubAccount_name,   R.role_name as Role_role_name,   R.role_defaultUserRole AS Role_role_defaultUserRole,   R.permission_name AS Role_permission_name,   R.permission_availability AS Role_permission_availability   FROM `[PARAMETER].[PARAMETER].CM_Roles` AS R LEFT JOIN `[PARAMETER].[PARAMETER].CM_Accounts` AS A on R.accountId=A.accountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_SubAccounts` AS SA on R.subaccountId=SA.subaccountId WHERE roleId NOT IN (   SELECT roleId FROM `[PARAMETER].[PARAMETER].CM_Profile_Roles`  ) &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Roles_Not_Used&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; SELECT   SC.accountId AS accountId,   SC.subaccountId AS subaccountId,   SC.siteId AS siteId,   SC.contactId AS contactId,   A.name AS Account_name,   A.active AS Account_active,   SA.name as SubAccount_name,   S.name as Site_name,   S.approved AS Site_approved,   SC.email AS Site_Contact_email,   CONCAT(SC.firstName, &#39; &#39;, sc.lastname) AS Site_Contact_Name,   SC.phone AS Site_Contact_phone,   SC.contactType AS Site_Contact_contactType,   IF(sc.email in (SELECT email from `[PARAMETER].[PARAMETER].CM_Profiles`), True, False) AS Profile_Match_Exists FROM `[PARAMETER].[PARAMETER].CM_Site_Contacts` AS SC  LEFT JOIN `[PARAMETER].[PARAMETER].CM_Accounts` AS A    ON SC.accountId=A.accountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_SubAccounts` AS SA    ON SC.accountId=SA.accountId    AND SC.subaccountId=SA.subaccountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_Sites` AS S    ON SC.siteId=S.siteId ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Site_Contacts_Profiles&quot;
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;&quot;,
            &quot;hour&quot;: [
                8
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;legacy&quot;: false,
                &quot;query&quot;: &quot; WITH   profile_counts AS (   SELECT userRoleId, COUNT(profileId) as profile_count   FROM `[PARAMETER].[PARAMETER].CM_Profiles`   GROUP BY 1  ),  permission_fingerprints AS (   SELECT     accountId,     subaccountId,     roleId,     role_name,     role_defaultUserRole,     SUM(profile_count) AS profile_count,     FARM_FINGERPRINT(       ARRAY_TO_STRING(       ARRAY_AGG(         DISTINCT permission_name ORDER BY permission_name ASC       ), &#39;,&#39;, &#39;-&#39;     )   ) AS permissions_fingerprint   FROM     `[PARAMETER].[PARAMETER].CM_Roles` AS R   LEFT JOIN profile_counts AS P   ON R.roleId = P.userRoleId   GROUP BY     accountId,     subaccountId,     roleId,     role_name,     role_defaultUserRole )  SELECT    PFL.accountId AS accountId,   A.name AS Account_name,   A.active AS Account_active,   PFL.subaccountId AS subaccountId,    SA.name AS SubAccount_name,   PFL.roleId AS roleId,   PFL.role_name AS role_name,   PFL.role_defaultUserRole AS role_defaultUserRole,   COALESCE(PFL.profile_count, 0) AS profile_count,   PFR.roleId AS duplicate_roleId,   PFR.role_name AS duplicate_role_name,   PFR.role_defaultUserRole AS duplicate_role_defaultUserRole,   COALESCE(PFR.profile_count, 0) AS duplicate_profile_count FROM permission_fingerprints AS PFL LEFT JOIN `[PARAMETER].[PARAMETER].CM_Accounts` AS A on PFL.accountId=A.accountId LEFT JOIN `[PARAMETER].[PARAMETER].CM_SubAccounts` AS SA on PFL.subaccountId=SA.subaccountId LEFT JOIN permission_fingerprints AS PFR    ON PFL.permissions_fingerprint=PFR.permissions_fingerprint   AND PFL.accountId=PFR.accountId   AND COALESCE(PFL.subaccountId, 0)=COALESCE(PFR.subaccountId, 0) WHERE PFL.roleId != PFR.roleId ; &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Barnacle_Roles_Duplicates&quot;
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/barnacle.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/barnacle_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/barnacle.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_barnacle">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_upload</i></td>
          <td style="vertical-align: top;">
            <h4>Conversion Upload BigQuery</h4>
            <p>TASK: conversion_upload_from_biguery</p>
            <p>Move from BigQuery to CM.</p>
            <ol>
              <li>Specify a CM Account ID, Floodligh Activity ID and Conversion Type.</li><li>Include BigQuery dataset and table.</li><li>Columns: Ordinal, timestampMicros, encryptedUserId | encryptedUserIdCandidates | gclid | mobileDeviceId</li><li>Include encryption information if using encryptedUserId or encryptedUserIdCandidates.</li>
            </ol>
            <pre class="view_code" id="view_code_conversion_upload_from_biguery" style="display:none;">[
    {
        &quot;conversion_upload&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;account_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;account&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 0,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;activity_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;floodlight_activity_id&quot;,
                    &quot;kind&quot;: &quot;integer&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;conversion_type&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;floodlight_conversion_type&quot;,
                    &quot;kind&quot;: &quot;choice&quot;,
                    &quot;order&quot;: 2,
                    &quot;choices&quot;: [
                        &quot;encryptedUserId&quot;,
                        &quot;encryptedUserIdCandidates&quot;,
                        &quot;gclid&quot;,
                        &quot;mobileDeviceId&quot;
                    ],
                    &quot;default&quot;: &quot;encryptedUserId&quot;
                }
            },
            &quot;encryptionInfo&quot;: {
                &quot;encryptionEntityId&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;encryption_entity_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;encryptionEntityType&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;encryption_entity_type&quot;,
                        &quot;kind&quot;: &quot;choice&quot;,
                        &quot;order&quot;: 4,
                        &quot;choices&quot;: [
                            &quot;ADWORDS_CUSTOMER&quot;,
                            &quot;DBM_ADVERTISER&quot;,
                            &quot;DBM_PARTNER&quot;,
                            &quot;DCM_ACCOUNT&quot;,
                            &quot;DCM_ADVERTISER&quot;,
                            &quot;ENCRYPTION_ENTITY_TYPE_UNKNOWN&quot;
                        ],
                        &quot;default&quot;: &quot;DCM_ACCOUNT&quot;
                    }
                },
                &quot;encryptionSource&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;encryption_entity_source&quot;,
                        &quot;kind&quot;: &quot;choice&quot;,
                        &quot;order&quot;: 5,
                        &quot;choices&quot;: [
                            &quot;AD_SERVING&quot;,
                            &quot;DATA_TRANSFER&quot;,
                            &quot;ENCRYPTION_SCOPE_UNKNOWN&quot;
                        ],
                        &quot;default&quot;: &quot;DATA_TRANSFER&quot;
                    }
                }
            },
            &quot;bigquery&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;bigquery_dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 6,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;bigquery_table&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 7,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;bigquery_legacy&quot;,
                        &quot;kind&quot;: &quot;boolean&quot;,
                        &quot;order&quot;: 8,
                        &quot;default&quot;: true
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/conversion_upload_from_biguery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/conversion_upload_from_biguery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/conversion_upload_from_biguery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_conversion_upload_from_biguery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_upload</i></td>
          <td style="vertical-align: top;">
            <h4>Conversion Upload Sheets</h4>
            <p>TASK: conversion_upload_from_sheets</p>
            <p>Move form Sheets to CM.</p>
            <ol>
              <li>Specify a CM Account ID, Floodligh Activity ID and Conversion Type.</li><li>Include Sheets url, tab, and range, omit headers in range.</li><li>Columns: Ordinal, timestampMicros, encryptedUserId | encryptedUserIdCandidates | gclid | mobileDeviceId</li><li>Include encryption information if using encryptedUserId or encryptedUserIdCandidates.</li>
            </ol>
            <pre class="view_code" id="view_code_conversion_upload_from_sheets" style="display:none;">[
    {
        &quot;conversion_upload&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;account_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dcm_account&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 0,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;activity_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;floodlight_activity_id&quot;,
                    &quot;kind&quot;: &quot;integer&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;conversion_type&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;floodlight_conversion_type&quot;,
                    &quot;kind&quot;: &quot;choice&quot;,
                    &quot;order&quot;: 2,
                    &quot;choices&quot;: [
                        &quot;encryptedUserId&quot;,
                        &quot;encryptedUserIdCandidates&quot;,
                        &quot;gclid&quot;,
                        &quot;mobileDeviceId&quot;
                    ],
                    &quot;default&quot;: &quot;encryptedUserId&quot;
                }
            },
            &quot;encryptionInfo&quot;: {
                &quot;encryptionEntityId&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;encryption_entity_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;encryptionEntityType&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;encryption_entity_type&quot;,
                        &quot;kind&quot;: &quot;choice&quot;,
                        &quot;order&quot;: 4,
                        &quot;choices&quot;: [
                            &quot;ADWORDS_CUSTOMER&quot;,
                            &quot;DBM_ADVERTISER&quot;,
                            &quot;DBM_PARTNER&quot;,
                            &quot;DCM_ACCOUNT&quot;,
                            &quot;DCM_ADVERTISER&quot;,
                            &quot;ENCRYPTION_ENTITY_TYPE_UNKNOWN&quot;
                        ],
                        &quot;default&quot;: &quot;DCM_ACCOUNT&quot;
                    }
                },
                &quot;encryptionSource&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;encryption_entity_source&quot;,
                        &quot;kind&quot;: &quot;choice&quot;,
                        &quot;order&quot;: 5,
                        &quot;choices&quot;: [
                            &quot;AD_SERVING&quot;,
                            &quot;DATA_TRANSFER&quot;,
                            &quot;ENCRYPTION_SCOPE_UNKNOWN&quot;
                        ],
                        &quot;default&quot;: &quot;DATA_TRANSFER&quot;
                    }
                }
            },
            &quot;sheets&quot;: {
                &quot;url&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;sheet_url&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 9,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;tab&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;sheet_tab&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 10,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;range&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;sheet_range&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 11,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/conversion_upload_from_sheets.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/conversion_upload_from_sheets_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/conversion_upload_from_sheets.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_conversion_upload_from_sheets">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">assignment_returned</i></td>
          <td style="vertical-align: top;">
            <h4>DT To Table</h4>
            <p>TASK: dt</p>
            <p>Move data from a DT bucket into a BigQuery table.</p>
            <ol>
              <li>Ensure your user has <a href='https://developers.google.com/doubleclick-advertisers/dtv2/getting-started' target='_blank'>access to the bucket</a>.</li><li>Provide the DT bucket name to read from.</li><li>Provide the path of the files to read.</li><li>Each file is synchronized to a unique table.  Use a view or aggregate select.</li>
            </ol>
            <pre class="view_code" id="view_code_dt" style="display:none;">[
    {
        &quot;dt&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;from&quot;: {
                &quot;bucket&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;bucket&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of bucket where DT files are stored.&quot;
                    }
                },
                &quot;paths&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;paths&quot;,
                        &quot;kind&quot;: &quot;string_list&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: [],
                        &quot;description&quot;: &quot;List of prefixes to pull specific DT files.&quot;
                    }
                },
                &quot;days&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;days&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: 2,
                        &quot;description&quot;: &quot;Number of days back to synchronize.&quot;
                    }
                },
                &quot;hours&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;hours&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: 0,
                        &quot;description&quot;: &quot;Number of hours back to synchronize.&quot;
                    }
                }
            },
            &quot;to&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Existing dataset in BigQuery.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dt.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dt_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dt.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dt">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">monetization_on</i></td>
          <td style="vertical-align: top;">
            <h4>Dynamic Costs Reporting</h4>
            <p>TASK: dynamic_costs</p>
            <p>Calculate DV360 cost at the dynamic creative combination level.</p>
            <ol>
              <li>Add a sheet URL. This is where you will enter advertiser and campaign level details.</li><li>Specify the CM network ID.</li><li>Click run now once, and a tab called <strong>Dynamic Costs</strong> will be added to the sheet with instructions.</li><li>Follow the instructions on the sheet; this will be your configuration.</li><li>StarThinker will create two or three (depending on the case) reports in CM named <strong>Dynamic Costs - ...</strong>.</li><li>Wait for <b>BigQuery->UNDEFINED->UNDEFINED->Dynamic_Costs_Analysis</b> to be created or click Run Now.</li><li>Copy <a href='https://datastudio.google.com/open/1vBvBEiMbqCbBuJTsBGpeg8vCLtg6ztqA' target='_blank'>Dynamic Costs Sample Data ( Copy From This )</a>.</li><li>Click Edit Connection, and Change to <b>BigQuery->UNDEFINED->UNDEFINED->Dynamic_Costs_Analysis</b>.</li><li>Copy <a href='https://datastudio.google.com/open/1xulBAdx95SnvjnUzFP6r14lhkvvVbsP8' target='_blank'>Dynamic Costs Sample Report ( Copy From This )</a>.</li><li>When prompted, choose the new data source you just created.</li><li>Edit the table to include or exclude columns as desired.</li><li>Or, give the dashboard connection intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_dynamic_costs" style="display:none;">[
    {
        &quot;dynamic_costs&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;account&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dcm_account&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 0,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;sheet&quot;: {
                &quot;template&quot;: {
                    &quot;url&quot;: &quot;https://docs.google.com/spreadsheets/d/19J-Hjln2wd1E0aeG3JDgKQN9TVGRLWxIEUQSmmQetJc/edit?usp=sharing&quot;,
                    &quot;tab&quot;: &quot;Dynamic Costs&quot;,
                    &quot;range&quot;: &quot;A1&quot;
                },
                &quot;url&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;configuration_sheet_url&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;tab&quot;: &quot;Dynamic Costs&quot;,
                &quot;range&quot;: &quot;A2:B&quot;
            },
            &quot;out&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;bigquery_dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;dynamic_costs&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dynamic_costs.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dynamic_costs_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dynamic_costs.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dynamic_costs">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">policy</i></td>
          <td style="vertical-align: top;">
            <h4>PoliceBot</h4>
            <p>TASK: policebot</p>
            <p>A tool that helps enforce CM object name conventions by checking names against a set of client-defined patterns, and emailing violations to appropriate agency teams on a daily basis.</p>
            <ol>
              <li>Add this card to a recipe and save it.</li><li>Then click <strong>Run Now</strong> to deploy.</li><li>Follow the <a href="https://docs.google.com/document/d/1euSZt5VFmaMfV-vShb6NH6LWfA7a5KSPpSl1hYeNlAA">instructuons</a> for setup.</li>
            </ol>
            <pre class="view_code" id="view_code_policebot" style="display:none;">[
    {
        &quot;drive&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [],
            &quot;copy&quot;: {
                &quot;source&quot;: &quot;https://docs.google.com/spreadsheets/d/1dkESiK2s8YvdC03F3t4Jk_wvxJ0NMNk8CTGxO0HQk6I&quot;,
                &quot;destination&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;prefix&quot;: &quot;PoliceBot For &quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;description&quot;: &quot;Name of document to deploy to.&quot;,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/policebot.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/policebot_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/policebot.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_policebot">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">policy</i></td>
          <td style="vertical-align: top;">
            <h4>Tag Key Value Uploader</h4>
            <p>TASK: kv_uploader</p>
            <p>A tool for bulk editing key value pairs for CM pllacements.</p>
            <ol>
              <li>Add this card to a recipe and save it.</li><li>Then click <strong>Run Now</strong> to deploy.</li><li>Follow the instructuons in the sheet for setup.</li>
            </ol>
            <pre class="view_code" id="view_code_kv_uploader" style="display:none;">[
    {
        &quot;drive&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [],
            &quot;copy&quot;: {
                &quot;source&quot;: &quot;https://docs.google.com/spreadsheets/d/19Sxy4BDtK9ocq_INKTiZ-rZHgqhfpiiokXOTsYzmah0/&quot;,
                &quot;destination&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;prefix&quot;: &quot;Key Value Uploader For &quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;description&quot;: &quot;Name of document to deploy to.&quot;,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/kv_uploader.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/kv_uploader_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/kv_uploader.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_kv_uploader">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">fingerprint</i></td>
          <td style="vertical-align: top;">
            <h4>Transparency Dashboard</h4>
            <p>TASK: transparency</p>
            <p>Reports the percentage of CM impressions that can be attributed to a specific domain or application.  Allows diagnostic of which domans and apps are misconfigured by publisher resulting in underreporting.</p>
            <ol>
              <li>Wait for <a href='https://console.cloud.google.com/bigquery?project=UNDEFINED&d=UNDEFINED' target='_blank'>BigQuery : UNDEFINED</a> : UNDEFINED : UNDEFINED</a> to be created.</li><li>Copy DataStudio <a href='https://datastudio.google.com/c/u/0/datasources/1Az6d9loAHo69GSIyKUfusrtyf_IDqTVs' target='_blank'>Transparency Combined KPI</a> and connect.</li><li>Copy DataStudio <a href='https://datastudio.google.com/c/u/0/reporting/1foircGRxgYCL_PR8gfdmYOleBacnPKwB/page/QCXj' target='_blank'>Transparency Breakdown</a>.</li><li>When prompted choose the new data source you just created.</li><li>Or give these intructions to the client, they will have to join the <a hre='https://groups.google.com/d/forum/starthinker-assets' target='_blank'>StarThinker Assets Group</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_transparency" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;hour&quot;: [
                1
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;filters&quot;: {
                    &quot;dfa:advertiser&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dcm_advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: &quot;&quot;,
                                &quot;description&quot;: &quot;Comma delimited list of CM advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;type&quot;: &quot;STANDARD&quot;,
                    &quot;format&quot;: &quot;CSV&quot;,
                    &quot;name&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;prefix&quot;: &quot;Transparency_App_&quot;,
                            &quot;description&quot;: &quot;Name of report in CM, unique.&quot;
                        }
                    },
                    &quot;criteria&quot;: {
                        &quot;dateRange&quot;: {
                            &quot;relativeDateRange&quot;: &quot;PREVIOUS_MONTH&quot;
                        },
                        &quot;dimensions&quot;: [
                            {
                                &quot;name&quot;: &quot;dfa:advertiser&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:advertiserId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:campaign&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:campaignId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:siteId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:site&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:adType&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:environment&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:appId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:app&quot;
                            }
                        ],
                        &quot;metricNames&quot;: [
                            &quot;dfa:impressions&quot;
                        ]
                    },
                    &quot;schedule&quot;: {
                        &quot;active&quot;: true,
                        &quot;every&quot;: 1,
                        &quot;repeats&quot;: &quot;MONTHLY&quot;,
                        &quot;runsOnDayOfMonth&quot;: &quot;DAY_OF_MONTH&quot;
                    }
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;filters&quot;: {
                    &quot;dfa:advertiser&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dcm_advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: &quot;&quot;,
                                &quot;description&quot;: &quot;Comma delimited list of CM advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;type&quot;: &quot;STANDARD&quot;,
                    &quot;format&quot;: &quot;CSV&quot;,
                    &quot;name&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;prefix&quot;: &quot;Transparency_Domain_&quot;,
                            &quot;description&quot;: &quot;Name of report in CM, unique.&quot;
                        }
                    },
                    &quot;criteria&quot;: {
                        &quot;dateRange&quot;: {
                            &quot;relativeDateRange&quot;: &quot;PREVIOUS_MONTH&quot;
                        },
                        &quot;dimensions&quot;: [
                            {
                                &quot;name&quot;: &quot;dfa:advertiser&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:advertiserId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:campaign&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:campaignId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:site&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:siteId&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:adType&quot;
                            },
                            {
                                &quot;name&quot;: &quot;dfa:domain&quot;
                            }
                        ],
                        &quot;metricNames&quot;: [
                            &quot;dfa:verificationVerifiableImpressions&quot;
                        ]
                    },
                    &quot;schedule&quot;: {
                        &quot;active&quot;: true,
                        &quot;every&quot;: 1,
                        &quot;repeats&quot;: &quot;MONTHLY&quot;,
                        &quot;runsOnDayOfMonth&quot;: &quot;DAY_OF_MONTH&quot;
                    }
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Transparency_Domain_&quot;,
                        &quot;description&quot;: &quot;Name of report in CM, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;auth&quot;: &quot;service&quot;,
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;Transparency_Domain_KPI&quot;
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Transparency_App_&quot;,
                        &quot;description&quot;: &quot;Name of report in CM, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;auth&quot;: &quot;service&quot;,
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;Transparency_App_KPI&quot;
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;hour&quot;: [
                5
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;
                    }
                },
                &quot;view&quot;: &quot;Transparency_Combined_KPI&quot;
            },
            &quot;from&quot;: {
                &quot;query&quot;: &quot;With \r\nTransparent_Domains AS ( \r\n  SELECT\r\n    CONCAT(Advertiser, &#39; - &#39;, CAST(Advertiser_Id AS STRING)) AS Advertiser,\r\n    CONCAT(Campaign, &#39; - &#39;, CAST(Campaign_Id AS STRING)) AS Campaign,\r\n    CONCAT(Site_Dcm, &#39; - &#39;, CAST(Site_Id_Dcm AS STRING)) AS Site,\r\n    Domain,\r\n    Ad_Type,\r\n    Verifiable_Impressions AS Impressions,\r\n    IF(Domain IS NOT NULL, Verifiable_Impressions, 0) AS Visible_Impressions,\r\n    IF(Domain IS NULL, Verifiable_Impressions, 0) AS Null_Impressions\r\n  FROM `[PARAMETER].[PARAMETER].Transparency_Domain_KPI`\r\n),\r\nTransparent_Apps AS ( \r\n  SELECT\r\n    CONCAT(Advertiser, &#39; - &#39;, CAST(Advertiser_Id AS STRING)) AS Advertiser,\r\n    CONCAT(Campaign, &#39; - &#39;, CAST(Campaign_Id AS STRING)) AS Campaign,\r\n    CONCAT(Site_Dcm, &#39; - &#39;, CAST(Site_Id_Dcm AS STRING)) AS Site,\r\n    /*If(App IS NOT NULL, CONCAT(App, &#39; - &#39;, CAST(App_Id AS STRING)), App_Id) AS App, */\r\n    CASE \r\n      WHEN App IS NOT NULL THEN CONCAT(App, &#39; - &#39;, CAST(App_Id AS STRING))\r\n      WHEN App_Id IS NOT NULL THEN App_Id\r\n      ELSE NULL\r\n    END AS App,\r\n    Ad_Type,\r\n    Impressions,\r\n    IF(App IS NOT NULL OR App_ID IS NOT NULL, Impressions, 0) AS Visible_Impressions,\r\n    IF(App IS NULL AND App_Id IS NULL, Impressions, 0) AS Null_Impressions\r\n  FROM `[PARAMETER].[PARAMETER].Transparency_App_KPI`\r\n  WHERE Environment = &#39;App&#39;\r\n),\r\nDomains_And_Apps AS (\r\n  SELECT \r\n    TD.Advertiser,\r\n    TD.Campaign,\r\n    TD.Site,\r\n    TD.Ad_Type,\r\n    TD.Domain,\r\n    TD.Impressions AS Domain_Impressions,\r\n    TD.Visible_Impressions AS Domain_Visible_Impressions,\r\n    TD.Null_Impressions AS Domain_Null_Impressions,\r\n    NULL AS App,\r\n    0 AS App_Impressions,\r\n    0 AS App_Visible_Impressions,\r\n    0 AS App_Null_Impressions\r\n  FROM Transparent_Domains AS TD\r\n  UNION ALL\r\n  SELECT \r\n    TA.Advertiser,\r\n    TA.Campaign,\r\n    TA.Site,\r\n    TA.Ad_Type,\r\n    NULL AS Domain,\r\n    0 AS Domain_Impressions,\r\n    0 AS Domain_Visible_Impressions,\r\n    0 AS Domain_Null_Impressions,\r\n    TA.App,\r\n    TA.Impressions AS App_Impressions,\r\n    TA.Visible_Impressions AS App_Visible_Impressions,\r\n    TA.Null_Impressions AS App_Null_Impressions\r\n  FROM Transparent_Apps AS TA\r\n)\r\n\r\n  SELECT\r\n    Advertiser,\r\n    Campaign,\r\n    Site,\r\n    COALESCE(Domain, App, &#39;&#39;) AS Domain_Or_App,\r\n    Ad_Type,\r\n    CASE\r\n      WHEN App IS NOT NULL AND Domain IS NOT NULL THEN &#39;Both&#39; /* SHOULD NOT HAPPEN */\r\n      WHEN App IS NOT NULL THEN &#39;App&#39;\r\n      WHEN Domain IS NOT NULL Then &#39;Domain&#39;\r\n      ELSE &#39;Neither&#39;\r\n    END AS Category,\r\n\r\n    SUM(Domain_Impressions) AS Domain_Impressions,\r\n    SUM(Domain_Visible_Impressions) AS Domain_Visible_Impressions,\r\n    SUM(Domain_Null_Impressions) AS Domain_Null_Impressions,\r\n\r\n    SUM(App_Impressions) AS App_Impressions,\r\n    SUM(App_Visible_Impressions) AS App_Visible_Impressions,\r\n    SUM(App_Null_Impressions) AS App_Null_Impressions,\r\n\r\n    SUM(App_Impressions + Domain_Impressions) AS Impressions /* Could also be MAX as its always one or the other*/\r\n\r\n  FROM Domains_And_Apps\r\n  GROUP By 1,2,3,4,5,6&quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Project where BigQuery dataset will be created.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ],
                &quot;legacy&quot;: false
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/transparency.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/transparency_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/transparency.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_transparency">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_3" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">language</i></td>
          <td style="vertical-align: top;">
            <h4>Browser Activity Dashboard ( 2019 )</h4>
            <p>TASK: itp</p>
            <p>Visualizes a client&#39;s Campaign Manager and DV360 activity by browser and device</p>
            <ol>
              <li>Wait for <b>BigQuery->StarThinker Data->UNDEFINED->*</b> to be created.</li><li>Join the <a hre='https://groups.google.com/d/forum/starthinker-assets' target='_blank'>StarThinker Assets Group</a> to access the following assets</li><li>For each of the following copy and connect to the new BigQuery sources above. See <a href='https://docs.google.com/document/d/11NlVWzbw6UeSUVUeNuERZGU9FYySWcRbu2Fg6zJ4O-A/edit?usp=sharing' target='_blank'>detailed instructions</a>.</li><li>Copy <a href='https://datastudio.google.com/open/1lxRWIs3ozzWs4-9WTy3EcqMcrtYn-7nI' target='_blank'>Combined_Browser_Delivery</a>.</li><li>Copy <a href='https://datastudio.google.com/open/1CeOHxxo-yAAMWcjI1ALsu_Dv-u2W78Rk' target='_blank'>DV360_Browser_Delivery</a>.</li><li>Copy <a href='https://datastudio.google.com/open/1NlN8rel--3t9VtTuA_0y2c6dcmIYog5g' target='_blank'>CM_Browser_Delivery</a>.</li><li>Copy <a href='https://datastudio.google.com/open/1-mGW74gnWu8zKejBhfLvmgro5rlpVNkE' target='_blank'>Floodlight_Browser_Delivery</a>.</li><li>Copy <a href='https://datastudio.google.com/open/1ftGTV0jaHKwGemhSgKOcoesuWzf4Jcwd' target='_blank'>Browser Delivery Report</a>.</li><li>When prompted choose the new data sources you just created.</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_itp" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Report suffix and BigQuery dataset to contain data.&quot;
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;filters&quot;: {
                    &quot;dfa:advertiser&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dcm_advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of CM advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;type&quot;: &quot;STANDARD&quot;,
                    &quot;format&quot;: &quot;CSV&quot;,
                    &quot;name&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;prefix&quot;: &quot;CM_Browser_Delivery_&quot;,
                            &quot;description&quot;: &quot;Report in CM, should be unique.&quot;
                        }
                    },
                    &quot;accountId&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dcm_account&quot;,
                            &quot;kind&quot;: &quot;integer&quot;,
                            &quot;order&quot;: 2,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;CM account id of client.&quot;
                        }
                    },
                    &quot;criteria&quot;: {
                        &quot;dateRange&quot;: {
                            &quot;relativeDateRange&quot;: &quot;LAST_365_DAYS&quot;
                        },
                        &quot;dimensions&quot;: [
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:advertiser&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:advertiserId&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:campaign&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:campaignId&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:site&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:browserPlatform&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:platformType&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:date&quot;
                            }
                        ],
                        &quot;metricNames&quot;: [
                            &quot;dfa:impressions&quot;,
                            &quot;dfa:clicks&quot;,
                            &quot;dfa:activityViewThroughConversions&quot;,
                            &quot;dfa:activityClickThroughConversions&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;CM_Browser_Delivery_&quot;,
                        &quot;description&quot;: &quot;Report in CM, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: &quot;CM_Browser_Delivery&quot;,
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                        }
                    }
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;body&quot;: {
                    &quot;name&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;prefix&quot;: &quot;CM_Browser_Floodlight_&quot;,
                            &quot;description&quot;: &quot;Report in CM, should be unique.&quot;
                        }
                    },
                    &quot;type&quot;: &quot;FLOODLIGHT&quot;,
                    &quot;format&quot;: &quot;CSV&quot;,
                    &quot;accountId&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dcm_account&quot;,
                            &quot;kind&quot;: &quot;integer&quot;,
                            &quot;order&quot;: 2,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;CM account id of client.&quot;
                        }
                    },
                    &quot;floodlightCriteria&quot;: {
                        &quot;dateRange&quot;: {
                            &quot;relativeDateRange&quot;: &quot;LAST_60_DAYS&quot;
                        },
                        &quot;dimensions&quot;: [
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:advertiser&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:advertiserId&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:campaign&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:campaignId&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:date&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:browserPlatform&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:platformType&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:activity&quot;
                            },
                            {
                                &quot;kind&quot;: &quot;dfareporting#sortedDimension&quot;,
                                &quot;name&quot;: &quot;dfa:activityId&quot;
                            }
                        ],
                        &quot;floodlightConfigId&quot;: {
                            &quot;dimensionName&quot;: &quot;dfa:floodlightConfigId&quot;,
                            &quot;kind&quot;: &quot;dfareporting#dimensionValue&quot;,
                            &quot;matchType&quot;: &quot;EXACT&quot;,
                            &quot;value&quot;: {
                                &quot;field&quot;: {
                                    &quot;name&quot;: &quot;dcm_floodlight&quot;,
                                    &quot;kind&quot;: &quot;integer&quot;,
                                    &quot;order&quot;: 4,
                                    &quot;default&quot;: &quot;&quot;,
                                    &quot;description&quot;: &quot;CM floodlight configuration id.&quot;
                                }
                            }
                        },
                        &quot;metricNames&quot;: [
                            &quot;dfa:activityClickThroughConversions&quot;,
                            &quot;dfa:activityViewThroughConversions&quot;,
                            &quot;dfa:totalConversions&quot;
                        ],
                        &quot;reportProperties&quot;: {
                            &quot;includeUnattributedCookieConversions&quot;: true,
                            &quot;includeUnattributedIPConversions&quot;: false
                        }
                    }
                }
            }
        }
    },
    {
        &quot;dcm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dcm_account&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;CM account id of client.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;CM_Browser_Floodlight_&quot;,
                        &quot;description&quot;: &quot;Report in CM, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: &quot;CM_Browser_Floodlight&quot;,
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                        }
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dbm_partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dbm_advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;DV360_Browser_Delivery_&quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        },
                        &quot;dataRange&quot;: &quot;LAST_365_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_GENERAL&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_BROWSER&quot;,
                            &quot;FILTER_MEDIA_PLAN&quot;,
                            &quot;FILTER_DATE&quot;,
                            &quot;FILTER_DEVICE_TYPE&quot;,
                            &quot;FILTER_INSERTION_ORDER&quot;,
                            &quot;FILTER_PAGE_LAYOUT&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_IMPRESSIONS&quot;,
                            &quot;METRIC_CLICKS&quot;,
                            &quot;METRIC_LAST_CLICKS&quot;,
                            &quot;METRIC_LAST_IMPRESSIONS&quot;,
                            &quot;METRIC_REVENUE_ADVERTISER&quot;,
                            &quot;METRIC_MEDIA_COST_ADVERTISER&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;DV360_Browser_Delivery_&quot;,
                        &quot;description&quot;: &quot;DV360 report name, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: &quot;DV360_Browser_Delivery&quot;,
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                        }
                    },
                    &quot;schema&quot;: [
                        {
                            &quot;name&quot;: &quot;Advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Browser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Campaign&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Campaign_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Report_Day&quot;,
                            &quot;type&quot;: &quot;DATE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Device_Type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Environment&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Impressions&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Clicks&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Post_Click_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Post_View_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Revenue_Adv_Currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Media_Cost_Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;to&quot;: {
                &quot;table&quot;: &quot;Floodlight_Browser_Delivery&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                    }
                }
            },
            &quot;from&quot;: {
                &quot;query&quot;: &quot;WITH\r\nbrowser_clean AS (\r\n  SELECT\r\n    Advertiser,\r\n    Advertiser_Id,\r\n    Campaign,\r\n    Campaign_Id,\r\n    Browser_Platform,\r\n   Activity,\r\n    Activity_ID,\r\n    CASE\r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*Chrome).*\&quot;) THEN \&quot;Chrome\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*Firefox).*\&quot;) THEN \&quot;Firefox\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*Safari).*\&quot;) THEN \&quot;Safari\&quot;\r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*iPad).*\&quot;) THEN \&quot;Safari\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*iPad).*\&quot;) THEN \&quot;Safari\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*iPhone).*\&quot;) THEN \&quot;Safari\&quot; \r\n    ELSE \&quot;Other\&quot;\r\n    END AS Clean_Browser,\r\n    Platform_Type,\r\n    Report_Day,\r\n    View_Through_Conversions,\r\n    Click_Through_Conversions,\r\n    Total_Conversions\r\n  FROM [PARAMETER].CM_Browser_Floodlight\r\n)\r\n\r\n  SELECT\r\n    *,\r\n    CASE WHEN Platform_Type=\&quot;Mobile highend: smartphone\&quot; OR Platform_Type=\&quot;Mobile midrange: feature phone\&quot; OR Platform_Type=\&quot;Tablet\&quot; THEN Total_Conversions ELSE 0 END AS Mobile_Convs,\r\n   CASE WHEN Platform_Type=\&quot;Desktop\&quot; THEN Total_Conversions ELSE 0 END AS Desktop_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Total_Conversions ELSE 0 END AS Chrome_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Total_Conversions ELSE 0 END AS Safari_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Total_Conversions ELSE 0 END AS Firefox_Convs\r\n  FROM browser_clean&quot;,
                &quot;legacy&quot;: false,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Bigquery container for data.&quot;
                        }
                    }
                ]
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;to&quot;: {
                &quot;table&quot;: &quot;CM_Browser_Delivery&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                    }
                }
            },
            &quot;from&quot;: {
                &quot;query&quot;: &quot;WITH\r\nbrowser_clean AS (\r\n  SELECT\r\n    Advertiser,\r\n    Advertiser_Id,\r\n    Campaign,\r\n    Campaign_Id,\r\n    Site_Dcm,\r\n    Browser_Platform,\r\n  CASE\r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*Chrome).*\&quot;) THEN \&quot;Chrome\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*Firefox).*\&quot;) THEN \&quot;Firefox\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*Safari).*\&quot;) THEN \&quot;Safari\&quot;\r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*iPad).*\&quot;) THEN \&quot;Safari\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*iPad).*\&quot;) THEN \&quot;Safari\&quot; \r\n    WHEN REGEXP_CONTAINS(Browser_Platform, \&quot;((?i).*iPhone).*\&quot;) THEN \&quot;Safari\&quot; \r\n    ELSE \&quot;Other\&quot;\r\n    END AS Clean_Browser,\r\n    Platform_Type,\r\n    Report_Day,\r\n    Impressions,\r\n    Clicks,\r\n    View_Through_Conversions,\r\n    Click_Through_Conversions\r\n  FROM [PARAMETER].CM_Browser_Delivery\r\n)\r\n\r\n SELECT\r\n    *,\r\n   CASE WHEN Platform_Type=\&quot;Mobile highend: smartphone\&quot; OR Platform_Type=\&quot;Mobile midrange: feature phone\&quot; OR Platform_Type=\&quot;Tablet\&quot; THEN Impressions ELSE 0 END AS Mobile_Imps,\r\n   CASE WHEN Platform_Type=\&quot;Desktop\&quot; THEN Impressions ELSE 0 END AS Desktop_Imps,\r\n   CASE WHEN Platform_Type=\&quot;Connected TV\&quot; THEN Impressions ELSE 0 END AS CTV_Imps,\r\n   CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Impressions ELSE 0 END AS Chrome_Imps,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Impressions ELSE 0 END AS Safari_Imps,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Impressions ELSE 0 END AS Firefox_Imps\r\n  FROM browser_clean&quot;,
                &quot;legacy&quot;: false,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Bigquery container for data.&quot;
                        }
                    }
                ]
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;to&quot;: {
                &quot;table&quot;: &quot;DV360_Browser_Delivery&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                    }
                }
            },
            &quot;from&quot;: {
                &quot;query&quot;: &quot;WITH\r\nbrowser_cleaned AS (\r\n  SELECT \r\n    Advertiser,\r\n    Advertiser_Id,\r\n    Advertiser_Currency,\r\n    Browser,\r\n    Campaign,\r\n    Campaign_Id,\r\n    Insertion_Order, \r\n    Insertion_Order_Id,\r\n    Report_Day,\r\n    Device_Type,\r\n    Environment,\r\n    Impressions,\r\n    Clicks,\r\n    Post_Click_Conversions,\r\n    Post_View_Conversions,\r\n    Revenue_Adv_Currency as Revenue,\r\n    Media_Cost_Advertiser_Currency,\r\n    CASE\r\n      WHEN REGEXP_CONTAINS(Browser, \&quot;((?i).*Chrome).*\&quot;) THEN \&quot;Chrome\&quot; \r\n      WHEN REGEXP_CONTAINS(Browser, \&quot;((?i).*Firefox).*\&quot;) THEN \&quot;Firefox\&quot; \r\n      WHEN REGEXP_CONTAINS(Browser, \&quot;((?i).*Safari).*\&quot;) THEN \&quot;Safari\&quot;\r\n      ELSE \&quot;Other\&quot;\r\n      END AS Clean_Browser,\r\n    CASE \r\n      WHEN Browser=\&quot;Safari 12\&quot; THEN \&quot;Safari 12\&quot;\r\n      WHEN Browser=\&quot;Safari 11\&quot; THEN \&quot;Safari 11\&quot;\r\n      WHEN REGEXP_CONTAINS(Browser, \&quot;((?i).*Safari).*\&quot;) AND Browser!=\&quot;Safari 12\&quot; AND Browser!=\&quot;Safari 11\&quot; THEN \&quot;Safari 10 &amp; Below\&quot;\r\n      ELSE \&quot;Non Safari\&quot;\r\n    END AS ITP_Affected_Browsers\r\n   FROM [PARAMETER].DV360_Browser_Delivery \r\n)\r\n\r\n  SELECT\r\n    *,\r\n    CASE WHEN Device_Type=\&quot;Smart Phone\&quot; OR Device_Type=\&quot;Tablet\&quot; THEN Impressions ELSE 0 END AS Mobile_Imps,\r\n   CASE WHEN Device_Type=\&quot;Desktop\&quot; THEN Impressions ELSE 0 END AS Desktop_Imps,\r\n   CASE WHEN Device_Type=\&quot;Connected TV\&quot; THEN Impressions ELSE 0 END AS CTV_Imps,\r\n   CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Impressions ELSE 0 END AS Chrome_Imps,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Impressions ELSE 0 END AS Safari_Imps,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Impressions ELSE 0 END AS Firefox_Imps,\r\n    CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Revenue ELSE 0 END AS Chrome_Rev,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Revenue ELSE 0 END AS Safari_Rev,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Revenue ELSE 0 END AS Firefox_Rev,\r\n   CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Post_Click_Conversions ELSE 0 END AS Chrome_Click_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Post_Click_Conversions ELSE 0 END AS Safari_Click_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Post_Click_Conversions ELSE 0 END AS Firefox_Click_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Post_View_Conversions ELSE 0 END AS Chrome_View_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Post_View_Conversions ELSE 0 END AS Safari_View_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Post_View_Conversions ELSE 0 END AS Firefox_View_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Chrome\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS Chrome_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Safari\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS Safari_Convs,\r\n   CASE WHEN Clean_Browser=\&quot;Firefox\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS Firefox_Convs,\r\n   \r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 12\&quot; THEN Impressions ELSE 0 END AS S12_Imps,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 11\&quot; THEN Impressions ELSE 0 END AS S11_Imps,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 10 &amp; Below\&quot; THEN Impressions ELSE 0 END AS S_Imps,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Non Safari\&quot; THEN Impressions ELSE 0 END AS NS_Imps,\r\n   \r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 12\&quot; THEN Post_Click_Conversions ELSE 0 END AS S12_Click_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 11\&quot; THEN Post_Click_Conversions ELSE 0 END AS S11_Click_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 10 &amp; Below\&quot; THEN Post_Click_Conversions ELSE 0 END AS S_Click_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Non Safari\&quot; THEN Post_Click_Conversions ELSE 0 END AS NS_Click_Convs,\r\n   \r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 12\&quot; THEN Post_View_Conversions ELSE 0 END AS S12_View_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 11\&quot; THEN Post_View_Conversions ELSE 0 END AS S11_View_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 10 &amp; Below\&quot; THEN Post_View_Conversions ELSE 0 END AS S_View_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Non Safari\&quot; THEN Post_View_Conversions ELSE 0 END AS NS_View_Convs,\r\n   \r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 12\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS S12_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 11\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS S11_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Safari 10 &amp; Below\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS S_Convs,\r\n   CASE WHEN ITP_Affected_Browsers=\&quot;Non Safari\&quot; THEN Post_Click_Conversions+Post_View_Conversions ELSE 0 END AS NS_Convs\r\n   \r\n   \r\n  FROM browser_cleaned&quot;,
                &quot;legacy&quot;: false,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;to&quot;: {
                &quot;table&quot;: &quot;Combined_Browser_Delivery&quot;,
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;BigQuery dataset to contain data.&quot;
                    }
                }
            },
            &quot;from&quot;: {
                &quot;query&quot;: &quot;WITH cm AS ( SELECT Report_Day, CASE  WHEN Platform_Type=\&quot;Desktop\&quot; THEN \&quot;Desktop\&quot; WHEN Platform_Type=\&quot;Tablet\&quot; THEN \&quot;Mobile_Tablet\&quot; WHEN Platform_Type=\&quot;Mobile highend: smartphone\&quot; THEN \&quot;Mobile_Tablet\&quot; WHEN Platform_Type=\&quot;Mobile midrange: feature phone\&quot; THEN \&quot;Mobile_Tablet\&quot; WHEN Platform_Type=\&quot;Connected TV\&quot; THEN \&quot;CTV\&quot; END AS Device_Clean, SUM(Impressions) as CM_Impressions FROM `[PARAMETER].CM_Browser_Delivery`  GROUP BY 1,2 ),  dv3 AS ( SELECT Report_Day as RD, CASE  WHEN Device_Type=\&quot;Desktop\&quot; THEN \&quot;Desktop\&quot; WHEN Device_Type=\&quot;Tablet\&quot; THEN \&quot;Mobile_Tablet\&quot; WHEN Device_Type=\&quot;Smart Phone\&quot; THEN \&quot;Mobile_Tablet\&quot; WHEN Device_Type=\&quot;Connected TV\&quot; THEN \&quot;CTV\&quot; END AS Device_Clean_DV360, SUM(Impressions) as DV360_Impressions FROM `[PARAMETER].DV360_Browser_Delivery`  GROUP BY 1,2 )  SELECT Report_Day, Device_Clean, CM_Impressions, DV360_Impressions FROM cm a JOIN dv3 b ON a.Report_Day=b.RD AND a.Device_Clean=b.Device_Clean_DV360&quot;,
                &quot;legacy&quot;: false,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/itp.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/itp_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/itp.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_itp">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_4" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">people</i></td>
          <td style="vertical-align: top;">
            <h4>DV360 Audience Analysis</h4>
            <p>TASK: audience_analysis</p>
            <p>The Audience Wizard Dashboard helps you to track the audience performance across all audiences on Display.</p>
            <ol>
              <li>Wait for <b>BigQuery->UNDEFINED->UNDEFINED->DV360_Audience_Analysis</b> to be created.</li><li>Join the <a hre='https://groups.google.com/d/forum/starthinker-assets' target='_blank'>StarThinker Assets Group</a> to access the following assets</li><li>Copy <a href='https://datastudio.google.com/open/1d2vlf4C1roN95NsdsvWNZqKFcYN8N9Jg' target='_blank'>Sample DV360 Audience Analysis Dataset</a>.</li><li>Click Edit Connection, and change to <b>BigQuery->UNDEFINED->UNDEFINED->DV360_Audience_Analysis</b>.</li><li>Copy <a href='https://datastudio.google.com/open/1Ij_RluqolElm7Nny9fBrIAPRB9ObUl0M' target='_blank'>Sample DV360 Audience Analysis Report</a>.</li><li>When prompted choose the new data source you just created.</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_audience_analysis" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;hour&quot;: [
                1
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;description&quot;: &quot;Create a dataset for bigquery tables.&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;recipe_name&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;,
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;Audience Performance &quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        }
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_GENERAL&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_USER_LIST&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_IMPRESSIONS&quot;,
                            &quot;METRIC_CLICKS&quot;,
                            &quot;METRIC_TOTAL_CONVERSIONS&quot;,
                            &quot;METRIC_LAST_CLICKS&quot;,
                            &quot;METRIC_LAST_IMPRESSIONS&quot;,
                            &quot;METRIC_TOTAL_MEDIA_COST_PARTNER&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Audience Performance &quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;DV360_Audience_Performance&quot;,
                    &quot;schema&quot;: [
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;advertiser_integration_code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_cost_usd&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;partner_currency&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;clicks&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;total_conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;post_click_conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;post_view_conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;total_media_cost_partner_currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;,
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;First Party Audience &quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        }
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_INVENTORY_AVAILABILITY&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_USER_LIST_FIRST_PARTY&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_BID_REQUESTS&quot;,
                            &quot;METRIC_UNIQUE_VISITORS_COOKIES&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;First Party Audience &quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;DV360_First_Party_Audience&quot;,
                    &quot;schema&quot;: [
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;advertiser_integration_code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_cost_usd&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;potential_impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;unique_cookies_with_impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;,
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;Google Audience &quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        }
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_INVENTORY_AVAILABILITY&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_USER_LIST&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_BID_REQUESTS&quot;,
                            &quot;METRIC_UNIQUE_VISITORS_COOKIES&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Google Audience &quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;DV360_Google_Audience&quot;,
                    &quot;schema&quot;: [
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;advertiser_integration_code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_cost_usd&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;potential_impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;unique_cookies_with_impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;,
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;Third Party Audience &quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        }
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_INVENTORY_AVAILABILITY&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_USER_LIST_THIRD_PARTY&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_BID_REQUESTS&quot;,
                            &quot;METRIC_UNIQUE_VISITORS_COOKIES&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Third Party Audience &quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;DV360_Third_Party_Audience&quot;,
                    &quot;schema&quot;: [
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;advertiser_status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;advertiser_integration_code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;REQUIRED&quot;,
                            &quot;name&quot;: &quot;audience_list_id&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;audience_list_cost_usd&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;potential_impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        },
                        {
                            &quot;mode&quot;: &quot;NULLABLE&quot;,
                            &quot;name&quot;: &quot;unique_cookies_with_impressions&quot;,
                            &quot;type&quot;: &quot;INT64&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;query&quot;: &quot; SELECT   p.advertiser_id,   p.advertiser,   p.audience_list_id,   IF (p.audience_list_type = &#39;Bid Manager Audiences&#39;, &#39;Google&#39;, p.audience_list_type) AS audience_list_type,   CASE     WHEN REGEXP_CONTAINS(p.audience_list, &#39;Affinity&#39;) THEN &#39;Affinity&#39;     WHEN REGEXP_CONTAINS(p.audience_list, &#39;Demographics&#39;) THEN &#39;Demographics&#39;     WHEN REGEXP_CONTAINS(p.audience_list, &#39;In-Market&#39;) THEN &#39;In-Market&#39;     WHEN REGEXP_CONTAINS(p.audience_list, &#39;Similar&#39;) THEN &#39;Similar&#39;     ELSE &#39;Custom&#39;   END AS audience_list_category,   p.audience_list,   IF(p.audience_list_cost_usd = &#39;Unknown&#39;, 0.0, CAST(p.audience_list_cost_usd AS FLOAT64)) AS audience_list_cost,   p.total_media_cost_partner_currency AS total_media_cost,   p.impressions,   p.clicks,   p.total_conversions,   COALESCE(ggl.potential_impressions, fst.potential_impressions, trd.potential_impressions) AS potential_impressions,   COALESCE(ggl.unique_cookies_with_impressions, fst.unique_cookies_with_impressions, trd.unique_cookies_with_impressions) AS potential_reach FROM   `[PARAMETER].[PARAMETER].DV360_Audience_Performance` p LEFT JOIN   `[PARAMETER].[PARAMETER].DV360_Google_Audience` ggl   USING (advertiser_id, audience_list_id) LEFT JOIN   `[PARAMETER].[PARAMETER].DV360_First_Party_Audience` fst   USING (advertiser_id, audience_list_id) LEFT JOIN   `[PARAMETER].[PARAMETER].DV360_Third_Party_Audience` trd   USING (advertiser_id, audience_list_id) &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google Cloud Project Id.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google Cloud Project Id.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google Cloud Project Id.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google Cloud Project Id.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    }
                ],
                &quot;legacy&quot;: false
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;DV360_Audience_Analysis&quot;
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/audience_analysis.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/audience_analysis_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/audience_analysis.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_audience_analysis">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">cloud_queue</i></td>
          <td style="vertical-align: top;">
            <h4>DV360 Feature Adoption Dashboard</h4>
            <p>TASK: dv360_feature_adoption</p>
            <p>Tracks revenue spent on various DV360 features and compares to performance metrics.</p>
            <ol>
              <li>IMPORTANT: You must add Advertiser IDS, we're still working on a partner level report.</li><li>Wait for <b>BigQuery->UNDEFINED->UNDEFINED->DV360_Feature_Analysis</b> dataset to be created.</li><li>Join the <a hre='https://groups.google.com/d/forum/starthinker-assets' target='_blank'>StarThinker Assets Group</a> to access the following assets</li><li>Copy <a href='https://datastudio.google.com/c/u/0/datasources/1IPh_zqjFeZTemq6iTUvc3JvZqD0Frneo' target='_blank'>Sample DV360 Feature Adoption Analysis</a>.</li><li>Click Edit Connection, find above dataset, and choose <b>Sample DV360 Feature Adoption Analysis</b>.</li><li>Copy <a href='https://datastudio.google.com/c/u/0/datasources/1vQMz7O05gaXRX_8ZF7kKXmfaBLjVv07H' target='_blank'>Sample DV360 Feature Adoption Environment</a>.</li><li>Click Edit Connection, find above dataset, and choose <b>Sample DV360 Feature Adoption Environment</b>.  This report takes a long time to run, on your first setup you may have to wait a few hours for this step to complete.</li><li>Copy <a href='https://datastudio.google.com/open/1uZ4WtxiRsBu54gxFdYAzPfW2yGRZlWn0?usp=sharing' target='_blank'>Sample DV360 Feature Adoption Report</a>.</li><li>When prompted choose the new data source you just created.</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_dv360_feature_adoption" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;hour&quot;: [
                1
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;description&quot;: &quot;Create a dataset for bigquery tables.&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;recipe_name&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;,
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;Feature_Adoption_Spend_&quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        }
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_GENERAL&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_ADVERTISER_CURRENCY&quot;,
                            &quot;FILTER_INSERTION_ORDER&quot;,
                            &quot;FILTER_LINE_ITEM&quot;,
                            &quot;FILTER_DATE&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_IMPRESSIONS&quot;,
                            &quot;METRIC_BILLABLE_IMPRESSIONS&quot;,
                            &quot;METRIC_CLICKS&quot;,
                            &quot;METRIC_CTR&quot;,
                            &quot;METRIC_TOTAL_CONVERSIONS&quot;,
                            &quot;METRIC_LAST_CLICKS&quot;,
                            &quot;METRIC_LAST_IMPRESSIONS&quot;,
                            &quot;METRIC_REVENUE_ADVERTISER&quot;,
                            &quot;METRIC_MEDIA_COST_ADVERTISER&quot;,
                            &quot;METRIC_RICH_MEDIA_VIDEO_COMPLETIONS&quot;,
                            &quot;METRIC_RICH_MEDIA_VIDEO_PLAYS&quot;,
                            &quot;METRIC_CM_POST_CLICK_REVENUE&quot;,
                            &quot;METRIC_CM_POST_VIEW_REVENUE&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                2
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;,
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;Feature_Adoption_Environment_&quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        }
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_GENERAL&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_ADVERTISER_CURRENCY&quot;,
                            &quot;FILTER_INSERTION_ORDER&quot;,
                            &quot;FILTER_LINE_ITEM&quot;,
                            &quot;FILTER_DEVICE_TYPE&quot;,
                            &quot;FILTER_PAGE_LAYOUT&quot;,
                            &quot;FILTER_DATE&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_IMPRESSIONS&quot;,
                            &quot;METRIC_BILLABLE_IMPRESSIONS&quot;,
                            &quot;METRIC_CLICKS&quot;,
                            &quot;METRIC_TOTAL_CONVERSIONS&quot;,
                            &quot;METRIC_LAST_CLICKS&quot;,
                            &quot;METRIC_LAST_IMPRESSIONS&quot;,
                            &quot;METRIC_REVENUE_ADVERTISER&quot;,
                            &quot;METRIC_MEDIA_COST_ADVERTISER&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Feature_Adoption_Spend_&quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;DV360_Feature_Spend&quot;,
                    &quot;is_incremental_load&quot;: true,
                    &quot;schema&quot;: [
                        {
                            &quot;name&quot;: &quot;Advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Targeted_Data_Providers&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Report_Day&quot;,
                            &quot;type&quot;: &quot;DATE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Impressions&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Billable_Impressions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Clicks&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Click_Rate_Ctr&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Total_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Post_Click_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Post_View_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Revenue_Adv_Currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Media_Cost_Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Complete_Views_Video&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Starts_Video&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Cm_Post_Click_Revenue&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Cm_Post_View_Revenue&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Feature_Adoption_Environment_&quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;DV360_Feature_Environment&quot;,
                    &quot;is_incremental_load&quot;: true,
                    &quot;schema&quot;: [
                        {
                            &quot;name&quot;: &quot;Advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Insertion_Order_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Targeted_Data_Providers&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Device_Type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Environment&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Report_Day&quot;,
                            &quot;type&quot;: &quot;DATE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Impressions&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Billable_Impressions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Clicks&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Total_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Post_Click_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Post_View_Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Revenue_Adv_Currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Media_Cost_Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;sdf&quot;: {
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;version&quot;: &quot;5&quot;,
            &quot;file_types&quot;: [
                &quot;LINE_ITEM&quot;
            ],
            &quot;filter_type&quot;: &quot;ADVERTISER_ID&quot;,
            &quot;read&quot;: {
                &quot;filter_ids&quot;: {
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;advertisers&quot;,
                            &quot;kind&quot;: &quot;integer_list&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: [],
                            &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                        }
                    }
                }
            },
            &quot;daily&quot;: true,
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    }
                }
            }
        }
    },
    {
        &quot;sdf&quot;: {
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;version&quot;: &quot;5&quot;,
            &quot;file_types&quot;: [
                &quot;INSERTION_ORDER&quot;
            ],
            &quot;filter_type&quot;: &quot;ADVERTISER_ID&quot;,
            &quot;read&quot;: {
                &quot;filter_ids&quot;: {
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;advertisers&quot;,
                            &quot;kind&quot;: &quot;integer_list&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: [],
                            &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                        }
                    }
                }
            },
            &quot;daily&quot;: true,
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    }
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;hour&quot;: [
                6
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;query&quot;: &quot; SELECT   Report_Day,   Advertiser,   Advertiser_Id,   Advertiser_Currency,   Insertion_Order AS Insertion_Order_Name,   Insertion_Order_Id AS Insertion_Order_ID,   CONCAT(Insertion_Order,&#39; (&#39;,CAST(Insertion_Order_ID AS STRING),&#39;)&#39;) AS Insertion_Order,   Line_Item AS LI_Name,   b.Line_Item_Id AS LI_ID,   CONCAT(Line_Item,&#39; (&#39;,CAST(b.Line_Item_Id AS STRING),&#39;)&#39;) AS Line_Item,   IF(MAX(SDF_Day) OVER () = SDF_Day, &#39;True&#39;, &#39;False&#39;) AS Max_Date,   a.*,   IF(Bid_Strategy_Type = &#39;Fixed&#39;, &#39;Fixed&#39;, CONCAT(Bid_Strategy_Type, &#39; &#39;, Bid_Strategy_Unit)) AS Bid_Strategy,   IF(Bid_Strategy_Type = &#39;Fixed&#39;, &#39;Fixed&#39;, &#39;Autobidding&#39;) AS Autobidding_Overall,   CONCAT(Pacing, &#39; &#39;, Pacing_Rate) AS Pacing_Overall,   IF(Affinity_In_Market_Targeting_Include IS NULL, &#39;False&#39;, &#39;True&#39;) AS Affinity_In_Market_TF,   IF(Affinity_In_Market_Targeting_Exclude IS NULL, &#39;False&#39;, &#39;True&#39;) AS Affinity_In_Market_Exclude_TF,   IF(Custom_List_Targeting IS NULL, &#39;False&#39;, &#39;True&#39;) AS Custom_List_TF,   IF(Audience_Targeting_Include IS NULL      AND Affinity_In_Market_Targeting_Include IS NULL      AND Custom_List_Targeting IS NULL      AND Audience_Targeting_Similar_Audiences = &#39;False&#39; , &#39;False&#39;, &#39;True&#39;) AS Audience_Targeting_TF,   IF(Keyword_Targeting_Exclude IS NULL     AND Keyword_List_Targeting_Exclude IS NULL, &#39;False&#39;, &#39;True&#39;) AS Keyword_Exclusions_TF,   IF(Position_Targeting_On_Screen IS NULL     AND Position_Targeting_Display_Position_In_Content IS NULL     AND Position_Targeting_Video_Position_In_Content IS NULL     AND Position_Targeting_Audio_Position_In_Content IS NULL, &#39;False&#39;, &#39;True&#39;) AS Position_Targeting_TF,   IF((Geography_Targeting_Include IS NULL       AND Geography_Regional_Location_List_Targeting_Include IS NULL), &#39;False&#39;, &#39;True&#39;) AS Geography_Targeting_TF,   IF(Language_Targeting_Include IS NULL, &#39;False&#39;, &#39;True&#39;) AS Language_Targeting_TF,   IF(Site_Targeting_Exclude IS NULL     AND Site_Targeting_Include IS NULL, &#39;False&#39;, &#39;True&#39;) AS Site_List_TF,   Impressions AS Impressions,   Billable_Impressions AS Billable_Impressions,   Clicks AS Clicks,   Total_Conversions AS Total_Conversions,   Post_Click_Conversions AS Post_Click_Conversions,   Post_View_Conversions AS Post_View_Conversions,   Revenue_Adv_Currency AS Rev_Adv_Currency,   Media_Cost_Advertiser_Currency AS Media_Cost_Adv_Currency,   Cm_Post_Click_Revenue AS CM_Post_Click_Revenue,   Cm_Post_View_Revenue AS CM_Post_View_Revenue,   (Cm_Post_Click_Revenue+Cm_Post_View_Revenue) AS CM_Total_Revenue,   IF (Bid_Strategy_Type = &#39;Fixed&#39;, 0, Revenue_Adv_Currency) AS Autobid_Rev,   IF (Type = &#39;Display&#39;, Revenue_Adv_Currency, 0) AS Display_Rev,   IF (Type = &#39;Video&#39;, Revenue_Adv_Currency, 0) AS Video_Rev,   IF (Type = &#39;TrueView&#39;, Revenue_Adv_Currency, 0) AS TrueView_Rev,   IF (Type = &#39;Audio&#39;, Revenue_Adv_Currency, 0) AS Audio_Rev,   IF ((STRPOS(Environment_Targeting, &#39;Desktop&#39;)&gt;0), Revenue_Adv_Currency, 0) AS Desktop_Rev   FROM `[PARAMETER].[PARAMETER].SDF_LINE_ITEM` AS a    LEFT JOIN `[PARAMETER].[PARAMETER].DV360_Feature_Spend` AS b      ON DATE_SUB(a.SDF_Day, INTERVAL 1 DAY) = b.Report_Day     AND a.Line_Item_Id = b.Line_Item_Id    WHERE b.Report_Day IS NOT NULL &quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google Cloud Project Id.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google Cloud Project Id.&quot;
                        }
                    },
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_name&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    }
                ],
                &quot;legacy&quot;: false
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;DV360_Feature_Adoption_Analysis&quot;
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dv360_feature_adoption.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dv360_feature_adoption_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dv360_feature_adoption.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dv360_feature_adoption">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>DV360 Report</h4>
            <p>TASK: dbm</p>
            <p>Create a DV360 report.</p>
            <ol>
              <li>Reference field values from the <a href='https://developers.google.com/bid-manager/v1/reports'>DV360 API</a> to build a report.</li><li>Copy and paste the JSON definition of a report.</li><li>The report is only created, use a move script to move it.</li><li>To reset a report, delete it from DV360 reporting.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;body&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;body&quot;,
                        &quot;kind&quot;: &quot;json&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;{}&quot;
                    }
                }
            },
            &quot;delete&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;delete&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: false
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dbm.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dbm_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dbm.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>DV360 To BigQuery</h4>
            <p>TASK: dbm_to_bigquery</p>
            <p>Move existing DV360 reports into a BigQuery table.</p>
            <ol>
              <li>Specify either report name or report id to move a report.</li><li>A schema is recommended, if not provided it will be guessed.</li><li>The most recent valid file will be moved to the table.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm_to_bigquery" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dbm_report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;DV360 report ID given in UI, not needed if name used.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dbm_report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of report, not needed if ID used.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dbm_dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dbm_table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Table to create from this report.&quot;
                        }
                    },
                    &quot;schema&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dbm_schema&quot;,
                            &quot;kind&quot;: &quot;json&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;[]&quot;,
                            &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;
                        }
                    },
                    &quot;is_incremental_load&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;is_incremental_load&quot;,
                            &quot;kind&quot;: &quot;boolean&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: false,
                            &quot;description&quot;: &quot;Clear data in destination table during this report&#39;s time period, then append report data to destination table.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dbm_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dbm_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dbm_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>DV360 To Sheets</h4>
            <p>TASK: dbm_to_sheets</p>
            <p>Move existing DV360 report into a Sheets tab.</p>
            <ol>
              <li>Specify either report name or report id to move a report.</li><li>The most recent valid file will be moved to the sheet.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm_to_sheets" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;DV360 report ID given in UI, not needed if name used.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of report, not needed if ID used.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;sheet&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Full URL to sheet being written to.&quot;
                        }
                    },
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;tab&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Existing tab in sheet to write to.&quot;
                        }
                    },
                    &quot;range&quot;: &quot;A1&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dbm_to_sheets.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dbm_to_sheets_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dbm_to_sheets.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm_to_sheets">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>DV360 To Storage</h4>
            <p>TASK: dbm_to_storage</p>
            <p>Move existing DV360 report into a Storage bucket.</p>
            <ol>
              <li>Specify either report name or report id to move a report.</li><li>The most recent valid file will be moved to the bucket.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm_to_storage" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dbm_report_id&quot;,
                        &quot;kind&quot;: &quot;integer&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;DV360 report ID given in UI, not needed if name used.&quot;
                    }
                },
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dbm_report_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of report, not needed if ID used.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;storage&quot;: {
                    &quot;bucket&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dbm_bucket&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Google cloud bucket.&quot;
                        }
                    },
                    &quot;path&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dbm_path&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Path and filename to write to.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/dbm_to_storage.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/dbm_to_storage_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/dbm_to_storage.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm_to_storage">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">whatshot</i></td>
          <td style="vertical-align: top;">
            <h4>Deal Finder</h4>
            <p>TASK: deal_finder</p>
            <p>Compares open vs. deal CPM, CPC, and CPA so that clients can decide which sites, inventory, and deals work best.</p>
            <ol>
              <li>Wait for <b>BigQuery->StarThinker Data->UNDEFINED->Deal_Finder_Dashboard</b> to be created.</li><li>Join the <a hre='https://groups.google.com/d/forum/starthinker-assets' target='_blank'>StarThinker Assets Group</a> to access the following assets</li><li>Copy <a href='https://datastudio.google.com/open/1QrWNTurvQT6nx20vnzdDveSzSmRjqHxQ' target='_blank'>Deal Finder Sample Data</a>.</li><li>Click Edit Connection, and change to <b>BigQuery->StarThinker Data->(field:recipe_name}->Deal_Finder_Dashboard</b>.</li><li>Copy <a href='https://datastudio.google.com/open/1fjRI5AIKTYTA4fWs-pYkJbIMgCumlMyO' target='_blank'>Deal Finder Sample Report</a>.</li><li>When prompted choose the new data source you just created.</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_deal_finder" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;description&quot;: &quot;Create a dataset for bigquery tables.&quot;,
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;description&quot;: &quot;Create a DV360 report.&quot;,
            &quot;hour&quot;: [
                3
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;filters&quot;: {
                    &quot;FILTER_PARTNER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;partners&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;DV360 partner id.&quot;
                            }
                        }
                    },
                    &quot;FILTER_ADVERTISER&quot;: {
                        &quot;values&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;advertisers&quot;,
                                &quot;kind&quot;: &quot;integer_list&quot;,
                                &quot;order&quot;: 6,
                                &quot;default&quot;: [],
                                &quot;description&quot;: &quot;Comma delimited list of DV360 advertiser ids.&quot;
                            }
                        }
                    }
                },
                &quot;body&quot;: {
                    &quot;timezoneCode&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_timezone&quot;,
                            &quot;kind&quot;: &quot;timezone&quot;,
                            &quot;description&quot;: &quot;Timezone for report dates.&quot;,
                            &quot;default&quot;: &quot;America/Los_Angeles&quot;
                        }
                    },
                    &quot;metadata&quot;: {
                        &quot;title&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;recipe_name&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;prefix&quot;: &quot;Deal_Finder_&quot;,
                                &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                            }
                        },
                        &quot;dataRange&quot;: &quot;LAST_30_DAYS&quot;,
                        &quot;format&quot;: &quot;CSV&quot;
                    },
                    &quot;params&quot;: {
                        &quot;type&quot;: &quot;TYPE_CROSS_PARTNER&quot;,
                        &quot;groupBys&quot;: [
                            &quot;FILTER_PARTNER&quot;,
                            &quot;FILTER_ADVERTISER&quot;,
                            &quot;FILTER_SITE_ID&quot;,
                            &quot;FILTER_INVENTORY_SOURCE&quot;,
                            &quot;FILTER_INVENTORY_SOURCE_TYPE&quot;,
                            &quot;FILTER_ADVERTISER_CURRENCY&quot;,
                            &quot;FILTER_CREATIVE_SIZE&quot;,
                            &quot;FILTER_CREATIVE_TYPE&quot;
                        ],
                        &quot;metrics&quot;: [
                            &quot;METRIC_IMPRESSIONS&quot;,
                            &quot;METRIC_CLICKS&quot;,
                            &quot;METRIC_TOTAL_CONVERSIONS&quot;,
                            &quot;METRIC_TOTAL_MEDIA_COST_ADVERTISER&quot;,
                            &quot;METRIC_REVENUE_ADVERTISER&quot;,
                            &quot;METRIC_ACTIVE_VIEW_MEASURABLE_IMPRESSIONS&quot;,
                            &quot;METRIC_ACTIVE_VIEW_VIEWABLE_IMPRESSIONS&quot;
                        ]
                    }
                }
            }
        }
    },
    {
        &quot;dbm&quot;: {
            &quot;description&quot;: &quot;Copy a DV360 report to BigQuery.&quot;,
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;user&quot;,
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;Deal_Finder_&quot;,
                        &quot;description&quot;: &quot;Name of report in DV360, should be unique.&quot;
                    }
                },
                &quot;timeout&quot;: 10
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;Deal_Finder_DV360_Report&quot;,
                    &quot;schema&quot;: [
                        {
                            &quot;name&quot;: &quot;Partner&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Partner_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Partner_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Integration_Code&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Site&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Site_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Inventory&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Inventory_ID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Inventory_Type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Advertiser_Currency&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Creative_Width&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Creative_Height&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Creative_Type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Impressions&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Clicks&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Conversions&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Cost&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Revenue&quot;,
                            &quot;type&quot;: &quot;FLOAT&quot;
                        },
                        {
                            &quot;name&quot;: &quot;AV_Impressions_Measurable&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        },
                        {
                            &quot;name&quot;: &quot;AV_Impressions_Viewable&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;The logic query for Deal Finder, transforms report into view used by datastudio.&quot;,
            &quot;hour&quot;: [
                4
            ],
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;query&quot;: &quot;SELECT Partner, Partner_ID, Advertiser, Advertiser_ID, Site, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Size, Always_On, Deal_Impressions, Open_Impressions, Rank_Impressions, Deal_Clicks, Open_Clicks, Rank_Clicks, Deal_Conversions, Open_Conversions, Rank_Conversions, Deal_Impressions_Viewable, Open_Impressions_Viewable, Rank_Impressions_Viewable, Deal_Impressions_Measurable, Open_Impressions_Measurable, Rank_Impressions_Measurable, Deal_Cost, Open_Cost, Rank_Cost, FROM ( SELECT FIRST(Partner) AS Partner, FIRST(Partner_ID) AS Partner_ID, FIRST(Advertiser) AS Advertiser, Advertiser_ID, First(Site) AS Site, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Width + &#39; x &#39; + Creative_Height AS Creative_Size, IF (LEFT(Inventory, 5) == &#39;AO - &#39;, True, False) AS Always_On, SUM(Deal_Impressions) AS Deal_Impressions, SUM(Open_Impressions) AS Open_Impressions, SUM(Open_Impressions) + SUM(Deal_Impressions) AS Total_Impressions, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Impressions DESC) AS Rank_Impressions, SUM(Deal_Clicks) AS Deal_Clicks, SUM(Open_Clicks) AS Open_Clicks, SUM(Open_Clicks) + SUM(Deal_Clicks) AS Total_Clicks, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Clicks DESC) AS Rank_Clicks, SUM(Deal_Conversions) AS Deal_Conversions, SUM(Open_Conversions) AS Open_Conversions, SUM(Open_Conversions) + SUM(Deal_Conversions) AS Total_Conversions, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Conversions DESC) AS Rank_Conversions, SUM(Deal_Cost) AS Deal_Cost, SUM(Open_Cost) AS Open_Cost, SUM(Open_Cost) + SUM(Deal_Cost) AS Total_Cost, RANK() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Cost DESC) AS Rank_Cost, SUM(Deal_Impressions_Viewable) AS Deal_Impressions_Viewable, SUM(Open_Impressions_Viewable) AS Open_Impressions_Viewable, SUM(Open_Impressions_Viewable) + SUM(Deal_Impressions_Viewable) AS Total_Impressions_Viewable, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Impressions_Viewable DESC) AS Rank_Impressions_Viewable, SUM(Deal_Impressions_Measurable) AS Deal_Impressions_Measurable, SUM(Open_Impressions_Measurable) AS Open_Impressions_Measurable, SUM(Open_Impressions_Measurable) + SUM(Deal_Impressions_Measurable) AS Total_Impressions_Measurable, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Impressions_Measurable DESC) AS Rank_Impressions_Measurable, FROM ( SELECT Partner, Partner_ID, Advertiser, Advertiser_ID, Site, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Width, Creative_Height, IF(Inventory_ID IS NULL, Impressions, 0) AS Open_Impressions, IF(Inventory_ID IS NULL, 0, Impressions) AS Deal_Impressions, IF(Inventory_ID IS NULL, Clicks, 0) AS Open_Clicks, IF(Inventory_ID IS NULL, 0, Clicks) AS Deal_Clicks, IF(Inventory_ID IS NULL, Conversions, 0) AS Open_Conversions, IF(Inventory_ID IS NULL, 0, Conversions) AS Deal_Conversions, IF(Inventory_ID IS NULL, Cost, 0) AS Open_Cost, IF(Inventory_ID IS NULL, 0, Cost) AS Deal_Cost, IF(Inventory_ID IS NULL, AV_Impressions_Viewable, 0) AS Open_Impressions_Viewable, IF(Inventory_ID IS NULL, 0, AV_Impressions_Viewable) AS Deal_Impressions_Viewable, IF(Inventory_ID IS NULL, AV_Impressions_Measurable, 0) AS Open_Impressions_Measurable, IF(Inventory_ID IS NULL, 0, AV_Impressions_Measurable) AS Deal_Impressions_Measurable, FROM [[PARAMETER].Deal_Finder_DV360_Report] OMIT RECORD IF Site == &#39;Low volume inventory&#39;) GROUP By Advertiser_ID, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Size, Always_On) WHERE Rank_Impressions &lt; 100 OR Rank_Clicks &lt; 100 OR Rank_Conversions &lt; 100 OR Rank_Cost &lt; 100;&quot;,
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;Deal_Finder_Dashboard&quot;
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/deal_finder.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/deal_finder_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/deal_finder.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_deal_finder">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">storage</i></td>
          <td style="vertical-align: top;">
            <h4>Entity Read Files</h4>
            <p>TASK: entity</p>
            <p>Import public and private &lt;a href=&#39;https://developers.google.com/bid-manager/guides/entity-read/format-v2&#39; target=&#39;_blank&#39;&gt;Entity Read Files&lt;/a&gt; into a BigQuery dataset.&lt;br/&gt;CAUTION: PARTNER ONLY, ADVERTISER FILTER IS NOT APPLIED.</p>
            <ol>
              <li>Entity Read Files ONLY work at the partner level.</li><li>Advertiser filter is NOT APPLIED.</li><li>Specify one or more partners to be moved into the dataset.</li>
            </ol>
            <pre class="view_code" id="view_code_entity" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;BigQuery dataset to write tables for each entity.&quot;
                }
            }
        }
    },
    {
        &quot;entity&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;prefix&quot;: &quot;Entity&quot;,
            &quot;entities&quot;: [
                &quot;Campaign&quot;,
                &quot;LineItem&quot;,
                &quot;Creative&quot;,
                &quot;UserList&quot;,
                &quot;Partner&quot;,
                &quot;Advertiser&quot;,
                &quot;InsertionOrder&quot;,
                &quot;Pixel&quot;,
                &quot;InventorySource&quot;,
                &quot;CustomAffinity&quot;,
                &quot;UniversalChannel&quot;,
                &quot;UniversalSite&quot;,
                &quot;SupportedExchange&quot;,
                &quot;DataPartner&quot;,
                &quot;GeoLocation&quot;,
                &quot;Language&quot;,
                &quot;DeviceCriteria&quot;,
                &quot;Browser&quot;,
                &quot;Isp&quot;
            ],
            &quot;partners&quot;: {
                &quot;single_cell&quot;: true,
                &quot;values&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;partners&quot;,
                        &quot;kind&quot;: &quot;integer_list&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;[]&quot;,
                        &quot;description&quot;: &quot;Comma sparated list of DV360 partners.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;auth&quot;: &quot;service&quot;,
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;BigQuery dataset to write tables for each entity.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/entity.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/entity_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/entity.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_entity">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">add_alert</i></td>
          <td style="vertical-align: top;">
            <h4>Floodlight Monitor</h4>
            <p>TASK: floodlight_monitor</p>
            <p>Monitor floodlight impressions specified in sheet and send email alerts.</p>
            <ol>
              <li>Specify an account_id or account_id:subaccount_id.</li><li>Will copy <a href='https://docs.google.com/spreadsheets/d/1tjF5styxMvFJsNETEa5x2F5DSmqleGl71cmujB7Ier8/edit?usp=sharing'>Floodlight Monitor Sheet</a> to the sheet you specify.</li><li>Follow instructions on sheet.</li><li>Emails are sent once a day.</li>
            </ol>
            <pre class="view_code" id="view_code_floodlight_monitor" style="display:none;">[
    {
        &quot;floodlight_monitor&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;account&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dcm_account&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Specify an account_id or account_id:subaccount_id.&quot;
                }
            },
            &quot;template&quot;: {
                &quot;template&quot;: {
                    &quot;sheet&quot;: &quot;https://docs.google.com/spreadsheets/d/1tjF5styxMvFJsNETEa5x2F5DSmqleGl71cmujB7Ier8/edit?usp=sharing&quot;,
                    &quot;tab&quot;: &quot;Floodlight Monitor&quot;,
                    &quot;range&quot;: &quot;A1&quot;
                }
            },
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheet_url&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Full URL to Google Sheet, Floodlight Monitor tab will be added.&quot;
                }
            },
            &quot;tab&quot;: &quot;Floodlight Monitor&quot;,
            &quot;range&quot;: &quot;A2:C&quot;
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/floodlight_monitor.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/floodlight_monitor_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/floodlight_monitor.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_floodlight_monitor">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_upward</i></td>
          <td style="vertical-align: top;">
            <h4>Line Item From BigQuery</h4>
            <p>TASK: lineitem_write_from_bigquery</p>
            <p>Upload Line Items From BigQuery To DV360.</p>
            <ol>
              <li>Specify the table or view where the lineitem data is defined.</li><li>The schema should match <a href='https://developers.google.com/bid-manager/guides/entity-write/format' target='_blank'>Entity Write Format</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_lineitem_write_from_bigquery" style="display:none;">[
    {
        &quot;lineitem&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;write&quot;: {
                &quot;dry_run&quot;: false,
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;query&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;query&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 2,
                            &quot;default&quot;: &quot;SELECT * FROM `Dataset.Table`;&quot;
                        }
                    },
                    &quot;legacy&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;legacy&quot;,
                            &quot;kind&quot;: &quot;boolean&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: false
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/lineitem_write_from_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/lineitem_write_from_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/lineitem_write_from_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_lineitem_write_from_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_downward</i></td>
          <td style="vertical-align: top;">
            <h4>Line Item To BigQuery Via Query</h4>
            <p>TASK: lineitem_read_to_bigquery_via_query</p>
            <p>Move using an Id query.</p>
            <ol>
              <li>Specify the query that will pull the lineitem ids to download.</li><li>Specify the dataset and table where the lineitems will be written.</li><li>The schema will match <a href='https://developers.google.com/bid-manager/guides/entity-write/format' target='_blank'>Entity Write Format</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_lineitem_read_to_bigquery_via_query" style="display:none;">[
    {
        &quot;lineitem&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;read&quot;: {
                &quot;line_items&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;id_dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 1,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;id_query&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 2,
                                &quot;default&quot;: &quot;SELECT * FROM `Dataset.Table`;&quot;
                            }
                        },
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;id_legacy&quot;,
                                &quot;kind&quot;: &quot;boolean&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: false
                            }
                        }
                    }
                },
                &quot;out&quot;: {
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;destination_dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 4,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;table&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;destination_table&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: &quot;&quot;
                            }
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/lineitem_read_to_bigquery_via_query.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/lineitem_read_to_bigquery_via_query_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/lineitem_read_to_bigquery_via_query.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_lineitem_read_to_bigquery_via_query">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_downward</i></td>
          <td style="vertical-align: top;">
            <h4>Line Item To BigQuery Via Values</h4>
            <p>TASK: lineitem_read_to_bigquery_via_value</p>
            <p>Move using hard coded Id values.</p>
            <ol>
              <li>Provide a comma delimited list of line item ids.</li><li>Specify the dataset and table where the lineitems will be written.</li><li>The schema will match <a href='https://developers.google.com/bid-manager/guides/entity-write/format' target='_blank'>Entity Write Format</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_lineitem_read_to_bigquery_via_value" style="display:none;">[
    {
        &quot;lineitem&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;read&quot;: {
                &quot;line_items&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;ids&quot;,
                            &quot;kind&quot;: &quot;integer_list&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: []
                        }
                    }
                },
                &quot;out&quot;: {
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;destination_dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 2,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;table&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;destination_table&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: &quot;&quot;
                            }
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/lineitem_read_to_bigquery_via_value.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/lineitem_read_to_bigquery_via_value_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/lineitem_read_to_bigquery_via_value.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_lineitem_read_to_bigquery_via_value">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <h4>Monthly Budget Mover</h4>
            <p>TASK: monthly_budget_mover</p>
            <p>Apply the previous month&#39;s budget/spend delta to the current month.  Aggregate up the budget and spend from the previous month of each category declared then apply the delta of the spend and budget equally to each Line Item under that Category.</p>
            <ol>
              <li>No changes made can be made in DV360 from the start to the end of this process</li><li>Make sure there is budget information for the current and previous month's IOs in DV360</li><li>Make sure the provided spend report has spend data for every IO in the previous month</li><li>Spend report must contain 'Revenue (Adv Currency)' and 'Insertion Order ID'</li><li>There are no duplicate IO Ids in the categories outlined below</li><li>This process must be ran during the month of the budget it is updating</li><li>If you receive a 502 error then you must separate your jobs into two, because there is too much information being pulled in the sdf</li><li>Manually run this job</li><li>Once the job has completed go to the table for the new sdf and export to a csv</li><li>Take the new sdf and upload it into DV360</li>
            </ol>
            <pre class="view_code" id="view_code_monthly_budget_mover" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;description&quot;: &quot;Create a dataset where data will be combined and transfored for upload.&quot;,
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                }
            }
        }
    },
    {
        &quot;monthly_budget_mover&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;spend_report_id&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;spend_report_id&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;The report Id for the DV360 spend report.&quot;
                }
            },
            &quot;budget_categories&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;budget_categories&quot;,
                    &quot;kind&quot;: &quot;json&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;{\&quot;CATEGORY1\&quot;:[12345,12345,12345], \&quot;CATEGORY2\&quot;:[12345,12345]}&quot;,
                    &quot;description&quot;: &quot;A dictionary to show which IO Ids go under which Category. Please view the solutions page for information on format.&quot;
                }
            },
            &quot;excluded_ios&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;excluded_ios&quot;,
                    &quot;kind&quot;: &quot;integer_list&quot;,
                    &quot;order&quot;: 4,
                    &quot;description&quot;: &quot;A comma separated list of Inserion Order Ids that should be exluded from the budget calculations&quot;
                }
            },
            &quot;sdf&quot;: {
                &quot;auth&quot;: &quot;user&quot;,
                &quot;file_types&quot;: &quot;INSERTION_ORDER&quot;,
                &quot;filter_type&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;filter_type&quot;,
                        &quot;kind&quot;: &quot;choice&quot;,
                        &quot;order&quot;: 6,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;The filter type for the filter ids.&quot;,
                        &quot;choices&quot;: [
                            &quot;ADVERTISER_ID&quot;,
                            &quot;CAMPAIGN_ID&quot;,
                            &quot;INSERTION_ORDER_ID&quot;,
                            &quot;INVENTORY_SOURCE_ID&quot;,
                            &quot;LINE_ITEM_ID&quot;,
                            &quot;PARTNER_ID&quot;
                        ]
                    }
                },
                &quot;filter_ids&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;filter_ids&quot;,
                        &quot;kind&quot;: &quot;integer_list&quot;,
                        &quot;order&quot;: 7,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;The filter ids for the request.&quot;
                    }
                }
            },
            &quot;out&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 8,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Dataset that you would like your output tables to be produced in.&quot;
                    }
                },
                &quot;old_sdf_table_name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;SDF_OLD_&quot;,
                        &quot;description&quot;: &quot;&quot;
                    }
                },
                &quot;new_sdf_table_name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;SDF_NEW_&quot;,
                        &quot;description&quot;: &quot;&quot;
                    }
                },
                &quot;changes_table_name&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;recipe_name&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;prefix&quot;: &quot;SDF_BUDGET_MOVER_LOG_&quot;,
                        &quot;description&quot;: &quot;&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/monthly_budget_mover.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/monthly_budget_mover_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/monthly_budget_mover.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_monthly_budget_mover">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>SDF Download</h4>
            <p>TASK: sdf_to_bigquery</p>
            <p>Download SDF reports into a BigQuery table.</p>
            <ol>
              <li>Select your filter types and the filter ideas.</li><li>Enter the <a href='https://developers.google.com/bid-manager/v1.1/sdf/download' target='_blank'>file types</a> using commas.</li><li>SDF_ will be prefixed to all tables and date appended to daily tables.</li>
            </ol>
            <pre class="view_code" id="view_code_sdf_to_bigquery" style="display:none;">[
    {
        &quot;sdf&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;version&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;version&quot;,
                    &quot;kind&quot;: &quot;choice&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: &quot;5&quot;,
                    &quot;description&quot;: &quot;The sdf version to be returned.&quot;,
                    &quot;choices&quot;: [
                        &quot;3.1&quot;,
                        &quot;5&quot;
                    ]
                }
            },
            &quot;file_types&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;file_types&quot;,
                    &quot;kind&quot;: &quot;string_list&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: [],
                    &quot;description&quot;: &quot;The sdf file types.&quot;
                }
            },
            &quot;filter_type&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;filter_type&quot;,
                    &quot;kind&quot;: &quot;choice&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;The filter type for the filter ids.&quot;,
                    &quot;choices&quot;: [
                        &quot;ADVERTISER_ID&quot;,
                        &quot;CAMPAIGN_ID&quot;,
                        &quot;INSERTION_ORDER_ID&quot;,
                        &quot;INVENTORY_SOURCE_ID&quot;,
                        &quot;LINE_ITEM_ID&quot;,
                        &quot;PARTNER_ID&quot;
                    ]
                }
            },
            &quot;read&quot;: {
                &quot;filter_ids&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;filter_ids&quot;,
                            &quot;kind&quot;: &quot;integer_list&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;The filter ids for the request.&quot;
                        }
                    }
                }
            },
            &quot;daily&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;daily&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 6,
                    &quot;default&quot;: false,
                    &quot;description&quot;: &quot;Also create a unique record for each day the data is pulled.&quot;
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Dataset to be written to in BigQuery.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/sdf_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/sdf_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/sdf_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_sdf_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <h4>Twitter Targeting</h4>
            <p>TASK: twitter</p>
            <p>Adjusts line item settings based on Twitter hashtags and locations specified in a sheet.</p>
            <ol>
              <li>Provide a sheets URL. No account information required.</li><li>Click <b>Run Now</b> once and a new tab called <b>Twitter Triggers</b> will be added to the sheet.</li><li>Follow instructions on the sheets tab.</li><li>Click <b>Run Now</b> again, trends are downloaded and triggered</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_twitter" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;description&quot;: &quot;Create a dataset where data will be combined and transfored for upload.&quot;,
            &quot;auth&quot;: &quot;service&quot;,
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                }
            }
        }
    },
    {
        &quot;sheets&quot;: {
            &quot;description&quot;: &quot;Read mapping of hash tags to line item toggles from sheets.&quot;,
            &quot;auth&quot;: &quot;user&quot;,
            &quot;template&quot;: {
                &quot;url&quot;: &quot;https://docs.google.com/spreadsheets/d/1iYCGa2NKOZiL2mdT4yiDfV_SWV9C7SUosXdIr4NAEXE/edit?usp=sharing&quot;,
                &quot;tab&quot;: &quot;Twitter Triggers&quot;
            },
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheet_url&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;description&quot;: &quot;URL to sheet where Line Item settings will be read from.&quot;,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;tab&quot;: &quot;Twitter Triggers&quot;,
            &quot;range&quot;: &quot;A8:T&quot;,
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;Twitter_Triggers&quot;,
                    &quot;schema&quot;: [
                        {
                            &quot;name&quot;: &quot;Location&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;REQUIRED&quot;
                        },
                        {
                            &quot;name&quot;: &quot;WOEID&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;,
                            &quot;mode&quot;: &quot;REQUIRED&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Hashtag&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;REQUIRED&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Id&quot;,
                            &quot;type&quot;: &quot;INTEGER&quot;,
                            &quot;mode&quot;: &quot;REQUIRED&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Name&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Status&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Start_Date&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_End_Date&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Budget_Type&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Budget_Amount&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Pacing&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Pacing_Rate&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Pacing_Amount&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Frequency_Enabled&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Frequency_Exposures&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Frequency_Period&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Line_Item_Frequency_Amount&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Bid_Price&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Partner_Revenue_Model&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        },
                        {
                            &quot;name&quot;: &quot;Partner_Revenue_Amount&quot;,
                            &quot;type&quot;: &quot;STRING&quot;,
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }
                    ]
                }
            }
        }
    },
    {
        &quot;twitter&quot;: {
            &quot;description&quot;: &quot;Read trends from Twitter and place into BigQuery.&quot;,
            &quot;auth&quot;: &quot;service&quot;,
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;twitter_secret&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Twitter API secret token.&quot;
                }
            },
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;twitter_key&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Twitter API key token.&quot;
                }
            },
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                            }
                        },
                        &quot;query&quot;: &quot;SELECT WOEID FROM {dataset}.Twitter_Triggers&quot;,
                        &quot;legacy&quot;: false,
                        &quot;parameters&quot;: {
                            &quot;dataset&quot;: {
                                &quot;field&quot;: {
                                    &quot;name&quot;: &quot;dataset&quot;,
                                    &quot;kind&quot;: &quot;string&quot;,
                                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                                }
                            }
                        }
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: &quot;Twitter_Trends_Place&quot;
                }
            }
        }
    },
    {
        &quot;lineitem&quot;: {
            &quot;description&quot;: &quot;Read current lineitem settings from DV360 into BigQuery, so it can be joined with Twitter analysis.&quot;,
            &quot;auth&quot;: &quot;user&quot;,
            &quot;read&quot;: {
                &quot;line_items&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                            }
                        },
                        &quot;query&quot;: &quot;SELECT Line_Item_Id FROM {dataset}.Twitter_Triggers&quot;,
                        &quot;parameters&quot;: {
                            &quot;dataset&quot;: {
                                &quot;field&quot;: {
                                    &quot;name&quot;: &quot;dataset&quot;,
                                    &quot;kind&quot;: &quot;string&quot;,
                                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                                }
                            }
                        }
                    }
                },
                &quot;out&quot;: {
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                            }
                        },
                        &quot;table&quot;: &quot;LineItem_Reads&quot;
                    }
                }
            }
        }
    },
    {
        &quot;bigquery&quot;: {
            &quot;description&quot;: &quot;Get all triggered lineitmes from sheet, if they have a keyword match in twitter, take the triger values, else take the default values (default&gt;trigger).  Take all non-null values from trigger and overlay over current DV360 values. Will be used to upload to DV360.&quot;,
            &quot;auth&quot;: &quot;service&quot;,
            &quot;from&quot;: {
                &quot;query&quot;: &quot;SELECT o.Line_Item_Id AS Line_Item_Id, o.Partner_Name AS Partner_Name, o.Partner_Id AS Partner_Id, o.Advertiser_Name AS Advertiser_Name, o.IO_Name AS IO_Name, IFNULL(t.Line_Item_Name, o.Line_Item_Name) AS Line_Item_Name, o.Line_Item_Timestamp AS Line_Item_Timestamp , IFNULL(t.Line_Item_Status, o.Line_Item_Status) AS Line_Item_Status, o.IO_Start_Date AS IO_Start_Date, o.IO_End_Date AS IO_End_Date, o.IO_Budget_Type AS IO_Budget_Type, o.IO_Budget_Amount AS IO_Budget_Amount, o.IO_Pacing AS IO_Pacing, o.IO_Pacing_Rate AS IO_Pacing_Rate, o.IO_Pacing_Amount AS IO_Pacing_Amount, IFNULL(t.Line_Item_Start_Date, o.Line_Item_Start_Date) AS Line_Item_Start_Date, IFNULL(t.Line_Item_End_Date, o.Line_Item_End_Date) AS Line_Item_End_Date, IFNULL(t.Line_Item_Budget_Type, o.Line_Item_Budget_Type) AS Line_Item_Budget_Type, IFNULL(t.Line_Item_Budget_Amount, o.Line_Item_Budget_Amount) AS Line_Item_Budget_Amount, IFNULL(t.Line_Item_Pacing, o.Line_Item_Pacing) AS Line_Item_Pacing, IFNULL(t.Line_Item_Pacing_Rate, o.Line_Item_Pacing_Rate) AS Line_Item_Pacing_Rate, IFNULL(t.Line_Item_Pacing_Amount, o.Line_Item_Pacing_Amount) AS Line_Item_Pacing_Amount, IFNULL(t.Line_Item_Frequency_Enabled, o.Line_Item_Frequency_Enabled) AS Line_Item_Frequency_Enabled, IFNULL(t.Line_Item_Frequency_Exposures, o.Line_Item_Frequency_Exposures) AS Line_Item_Frequency_Exposures, IFNULL(t.Line_Item_Frequency_Period, o.Line_Item_Frequency_Period) AS Line_Item_Frequency_Period, IFNULL(t.Line_Item_Frequency_Amount, o.Line_Item_Frequency_Amount) AS Line_Item_Frequency_Amount, IFNULL(t.Bid_Price, o.Bid_Price) AS Bid_Price, IFNULL(t.Partner_Revenue_Model, o.Partner_Revenue_Model) AS Partner_Revenue_Model, IFNULL(t.Partner_Revenue_Amount, o.Partner_Revenue_Amount) AS Partner_Revenue_Amount, o.Current_Audience_Targeting_Ids AS Current_Audience_Targeting_Ids , o.Current_Audience_Targeting_Names AS Current_Audience_Targeting_Names FROM `{project}.{dataset}.LineItem_Reads` AS o LEFT JOIN ( SELECT Line_Item_Id, ANY_VALUE(SPLIT(Line_Item_Name, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Name, ANY_VALUE(SPLIT(Line_Item_Status, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Status, ANY_VALUE(SPLIT(Line_Item_Start_Date, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Start_Date, ANY_VALUE(SPLIT(Line_Item_End_Date, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_End_Date, ANY_VALUE(SPLIT(Line_Item_Budget_Type, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Budget_Type, ANY_VALUE(CAST(SPLIT(Line_Item_Budget_Amount, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))] AS FLOAT64)) AS Line_Item_Budget_Amount, ANY_VALUE(SPLIT(Line_Item_Pacing, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Pacing, ANY_VALUE(SPLIT(Line_Item_Pacing_Rate, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Pacing_Rate, ANY_VALUE(CAST(SPLIT(Line_Item_Pacing_Amount, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))] AS FLOAT64)) AS Line_Item_Pacing_Amount, ANY_VALUE(CAST(SPLIT(Line_Item_Frequency_Enabled, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))] AS BOOL)) AS Line_Item_Frequency_Enabled, ANY_VALUE(SPLIT(Line_Item_Frequency_Exposures, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Frequency_Exposures, ANY_VALUE(SPLIT(Line_Item_Frequency_Period, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Line_Item_Frequency_Period, ANY_VALUE(CAST(SPLIT(Line_Item_Frequency_Amount, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))] AS INT64)) AS Line_Item_Frequency_Amount, ANY_VALUE(CAST(SPLIT(Bid_Price, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))] AS FLOAT64)) AS Bid_Price, ANY_VALUE(SPLIT(Partner_Revenue_Model, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))]) AS Partner_Revenue_Model, ANY_VALUE(CAST(SPLIT(Partner_Revenue_Amount, &#39;&gt;&#39;)[SAFE_OFFSET(IF(Triggered, 1, 0))] AS FLOAT64)) AS Partner_Revenue_Amount FROM ( SELECT WOEID, Hashtag, Line_Item_Id, Line_Item_Name, Line_Item_Status, Line_Item_Start_Date, Line_Item_End_Date, Line_Item_Budget_Type, Line_Item_Budget_Amount, Line_Item_Pacing, Line_Item_Pacing_Rate, Line_Item_Pacing_Amount, Line_Item_Frequency_Enabled, Line_Item_Frequency_Exposures, Line_Item_Frequency_Period, Line_Item_Frequency_Amount, Bid_Price, Partner_Revenue_Model, Partner_Revenue_Amount, CONCAT(CAST(WOEID AS STRING), LOWER(Hashtag)) IN (SELECT CONCAT(CAST(WOEID AS STRING), LOWER(REPLACE(name, &#39;#&#39;, &#39;&#39;))) FROM `{project}.{dataset}.Twitter_Trends_Place` GROUP BY 1) AS Triggered FROM `{project}.{dataset}.Twitter_Triggers`) GROUP BY 1) AS t ON o.Line_Item_Id=t.Line_Item_Id;&quot;,
                &quot;parameters&quot;: {
                    &quot;project&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;recipe_project&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    }
                },
                &quot;legacy&quot;: false
            },
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                    }
                },
                &quot;view&quot;: &quot;LineItem_Writes&quot;
            }
        }
    },
    {
        &quot;lineitem&quot;: {
            &quot;description&quot;: &quot;Write lineitem settings to DV360 after transformation.&quot;,
            &quot;auth&quot;: &quot;user&quot;,
            &quot;write&quot;: {
                &quot;dry_run&quot;: false,
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                        }
                    },
                    &quot;query&quot;: &quot;Select * FROM {dataset}.LineItem_Writes&quot;,
                    &quot;legacy&quot;: false,
                    &quot;parameters&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                            }
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/twitter.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/twitter_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/twitter.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_twitter">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_5" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_copy</i></td>
          <td style="vertical-align: top;">
            <h4>Copy</h4>
            <p>TASK: drive_copy</p>
            <p>Copy a drive document.</p>
            <ol>
              <li>Specify a source URL or document name.</li><li>Specify a destination name.</li><li>If destination does not exist, source will be copied.</li>
            </ol>
            <pre class="view_code" id="view_code_drive_copy" style="display:none;">[
    {
        &quot;drive&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;copy&quot;: {
                &quot;source&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;source&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name or URL of document to copy from.&quot;
                    }
                },
                &quot;destination&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;destination&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name document to copy to.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/drive_copy.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/drive_copy_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/drive_copy.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_drive_copy">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_6" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">settings_input_component</i></td>
          <td style="vertical-align: top;">
            <h4>API To BigQuery</h4>
            <p>TASK: google_api_to_bigquery</p>
            <p>Execute a Google API function and store results to BigQuery.</p>
            <ol>
              <li>Enter an api name and version.</li><li>Specify the function using dot notation and arguments using json.</li><li>If nextPageToken can be in response check iterate.</li><li>Give BigQuery dataset and table where response will be written.</li>
            </ol>
            <pre class="view_code" id="view_code_google_api_to_bigquery" style="display:none;">[
    {
        &quot;google_api&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;api&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;api&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;doubleclickbidmanager&quot;,
                    &quot;description&quot;: &quot;See developer guide.&quot;
                }
            },
            &quot;version&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;version&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;v1&quot;,
                    &quot;description&quot;: &quot;Must be supported version.&quot;
                }
            },
            &quot;function&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;function&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;reports.files.list&quot;,
                    &quot;description&quot;: &quot;Full function dot notation path.&quot;
                }
            },
            &quot;kwargs&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;kwargs&quot;,
                    &quot;kind&quot;: &quot;json&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: {
                        &quot;accountId&quot;: 7480,
                        &quot;profileId&quot;: 2782211,
                        &quot;reportId&quot;: 132847265
                    },
                    &quot;description&quot;: &quot;Dictionray object of name value pairs.&quot;
                }
            },
            &quot;iterate&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;iterate&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 5,
                    &quot;default&quot;: false,
                    &quot;description&quot;: &quot;Is the result a list?&quot;
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Existing dataset in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Table to write API call results to.&quot;
                        }
                    },
                    &quot;schema&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;schema&quot;,
                            &quot;kind&quot;: &quot;json&quot;,
                            &quot;order&quot;: 9,
                            &quot;default&quot;: [],
                            &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;
                        }
                    },
                    &quot;format&quot;: &quot;JSON&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/google_api_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/google_api_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/google_api_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_google_api_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_download</i></td>
          <td style="vertical-align: top;">
            <h4>Email Fetch</h4>
            <p>TASK: email_to_bigquery</p>
            <p>Import emailed csv or excel into a BigQuery table.</p>
            <ol>
              <li>The person executing this recipe must be the recipient of the email.</li><li>Schedule a CSV or Excel to be sent to <b>UNDEFINED</b>.</li><li>Give a regular expression to match the email subject, link or attachment.</li><li>The data downloaded will overwrite the table specified.</li>
            </ol>
            <pre class="view_code" id="view_code_email_to_bigquery" style="display:none;">[
    {
        &quot;email&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;in&quot;: {
                &quot;email&quot;: {
                    &quot;from&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;email_from&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 1,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Must match from field.&quot;
                        }
                    },
                    &quot;to&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;email_to&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 2,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Must match to field.&quot;
                        }
                    },
                    &quot;subject&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;subject&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Regular expression to match subject.&quot;
                        }
                    },
                    &quot;link&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;link&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Regular expression to match email.&quot;
                        }
                    },
                    &quot;attachment&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;attachment&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Regular expression to match atttachment.&quot;
                        }
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Existing dataset in BigQuery.&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Name of table to be written to.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/email_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/email_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/email_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_email_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_download</i></td>
          <td style="vertical-align: top;">
            <h4>Project IAM</h4>
            <p>TASK: iam</p>
            <p>Sets project permissions for an email.</p>
            <ol>
              <li>Provide a role in the form of projects/[project name]/roles/[role name]</li><li>Enter an email to grant that role to.</li><li>This only grants roles, you must remove them from the project manually.</li>
            </ol>
            <pre class="view_code" id="view_code_iam" style="display:none;">[
    {
        &quot;iam&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;role&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;role&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;projects/[project name]/roles/[role name]&quot;
                }
            },
            &quot;email&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;email&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Email address to grant role to.&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/iam.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/iam_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/iam.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_iam">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_7" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">timeline</i></td>
          <td style="vertical-align: top;">
            <h4>Google Analytics Timeline</h4>
            <p>TASK: ga_timeline</p>
            <p>Download Google Analytics settings to a BigQuery table.</p>
            <ol>
              <li>Enter the dateset to which the Google Analytics settings will be downloaded.</li><li>Add the starthinker service account email to the Google Analytics account(s) in which you are interested.</li><li>Schedule the recipe to run once a day.</li>
            </ol>
            <pre class="view_code" id="view_code_ga_timeline" style="display:none;">[
    {
        &quot;ga_settings_download&quot;: {
            &quot;description&quot;: &quot;Will create tables with format ga_* to hold each endpoint via a call to the API list function.&quot;,
            &quot;auth&quot;: &quot;user&quot;,
            &quot;accounts&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;account_ids&quot;,
                    &quot;kind&quot;: &quot;integer_list&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: []
                }
            },
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;dataset&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Dataset to be written to in BigQuery.&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/ga_timeline.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/ga_timeline_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/ga_timeline.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_ga_timeline">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_8" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>Salesforce To BigQuery</h4>
            <p>TASK: salesforce_to_bigquery</p>
            <p>Move query results into a BigQuery table.</p>
            <ol>
              <li>Specify <a href='https://developer.salesforce.com/' target='_blank'>Salesforce</a> credentials.</li><li>Specify the query youd like to execute.</li><li>Specify a <a href='https://cloud.google.com/bigquery/docs/schemas#creating_a_json_schema_file' target='_blank'>SCHEMA</a> for that query ( optional ).</li>
            </ol>
            <pre class="view_code" id="view_code_salesforce_to_bigquery" style="display:none;">[
    {
        &quot;salesforce&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;client&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;client&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Retrieve from a Salesforce App.&quot;
                }
            },
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;secret&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Retrieve from a Salesforce App.&quot;
                }
            },
            &quot;username&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;username&quot;,
                    &quot;kind&quot;: &quot;email&quot;,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Your Salesforce user email.&quot;
                }
            },
            &quot;password&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;password&quot;,
                    &quot;kind&quot;: &quot;password&quot;,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Your Salesforce login password.&quot;
                }
            },
            &quot;query&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;query&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;The query to run in Salesforce.&quot;
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Table to create from this report.&quot;
                        }
                    },
                    &quot;schema&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;schema&quot;,
                            &quot;kind&quot;: &quot;json&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: &quot;[]&quot;,
                            &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/salesforce_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/salesforce_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/salesforce_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_salesforce_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_9" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">view_column</i></td>
          <td style="vertical-align: top;">
            <h4>Sheet Clear</h4>
            <p>TASK: sheets_clear</p>
            <p>Clear data from a sheet.</p>
            <ol>
              <li>For the sheet, provide the full edit URL.</li>
            </ol>
            <pre class="view_code" id="view_code_sheets_clear" style="display:none;">[
    {
        &quot;sheets&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_sheet&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_tab&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;range&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_range&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;clear&quot;: true
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/sheets_clear.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/sheets_clear_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/sheets_clear.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_sheets_clear">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">view_column</i></td>
          <td style="vertical-align: top;">
            <h4>Sheet Copy</h4>
            <p>TASK: sheets_copy</p>
            <p>Copy tab from a sheet to a sheet.</p>
            <ol>
              <li>Provide the full edit URL for both sheets.</li><li>Provide the tab name for both sheets.</li><li>The tab will only be copied if it does not already exist.</li>
            </ol>
            <pre class="view_code" id="view_code_sheets_copy" style="display:none;">[
    {
        &quot;sheets&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;template&quot;: {
                &quot;sheet&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;from_sheet&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;tab&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;from_tab&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            },
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;to_sheet&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;to_tab&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: &quot;&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/sheets_copy.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/sheets_copy_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/sheets_copy.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_sheets_copy">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">view_column</i></td>
          <td style="vertical-align: top;">
            <h4>Sheet To Table</h4>
            <p>TASK: sheets_to_bigquery</p>
            <p>Import data from a sheet and move it to a BigQuery table.</p>
            <ol>
              <li>For the sheet, provide the full edit URL.</li><li>If the tab does not exist it will be created.</li><li>Empty cells in the range will be NULL.</li><li>Check Sheets header if first row is a header</li>
            </ol>
            <pre class="view_code" id="view_code_sheets_to_bigquery" style="display:none;">[
    {
        &quot;sheets&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_url&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_tab&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;range&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_range&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;header&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheets_header&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 9,
                    &quot;default&quot;: true
                }
            },
            &quot;out&quot;: {
                &quot;auth&quot;: &quot;service&quot;,
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 8,
                            &quot;default&quot;: &quot;&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/sheets_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/sheets_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/sheets_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_sheets_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_10" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <h4>Sheet To BigQuery</h4>
            <p>TASK: smartsheet_to_bigquery</p>
            <p>Move sheet data into a BigQuery table.</p>
            <ol>
              <li>Specify <a href='https://smartsheet-platform.github.io/api-docs/' target='_blank'>SmartSheet</a> token.</li><li>Locate the ID of a sheet by viewing its properties.</li><li>Provide a BigQuery dataset ( must exist ) and table to write the data into.</li><li>StarThinker will automatically map the correct schema.</li>
            </ol>
            <pre class="view_code" id="view_code_smartsheet_to_bigquery" style="display:none;">[
    {
        &quot;smartsheet&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;token&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;token&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Retrieve from SmartSheet account settings.&quot;
                }
            },
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheet&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Retrieve from sheet properties.&quot;
                }
            },
            &quot;link&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;link&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 6,
                    &quot;default&quot;: true,
                    &quot;description&quot;: &quot;Add a link to each row as the first column.&quot;
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 4,
                            &quot;default&quot;: &quot;&quot;,
                            &quot;description&quot;: &quot;Table to create from this report.&quot;
                        }
                    },
                    &quot;schema&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;schema&quot;,
                            &quot;kind&quot;: &quot;json&quot;,
                            &quot;order&quot;: 5,
                            &quot;default&quot;: [],
                            &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/smartsheet_to_bigquery.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/smartsheet_to_bigquery_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/smartsheet_to_bigquery.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_smartsheet_to_bigquery">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_11" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">archive</i></td>
          <td style="vertical-align: top;">
            <h4>Archive</h4>
            <p>TASK: archive</p>
            <p>Wipe old information from a Storage bucket.</p>
            <ol>
              <li>Specify how many days back to retain data and which buckets and paths to purge.</li><li>Everything under a path will be moved to archive or deleted depending on your choice.</li>
            </ol>
            <pre class="view_code" id="view_code_archive" style="display:none;">[
    {
        &quot;archive&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;days&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;archive_days&quot;,
                    &quot;kind&quot;: &quot;integer&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: 7
                }
            },
            &quot;storage&quot;: {
                &quot;bucket&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;archive_bucket&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;
                    }
                },
                &quot;path&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;archive_path&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;
                    }
                }
            },
            &quot;delete&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;archive_delete&quot;,
                    &quot;kind&quot;: &quot;boolean&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: false
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/archive.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/archive_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/archive.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_archive">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">storage</i></td>
          <td style="vertical-align: top;">
            <h4>Bucket</h4>
            <p>TASK: bucket</p>
            <p>Create and permission a bucket in Storage.</p>
            <ol>
              <li>Specify the name of the bucket and who will have owner permissions.</li><li>Existing buckets are preserved.</li><li>Adding a permission to the list will update the permissions but removing them will not.</li><li>You have to manualy remove grants.</li>
            </ol>
            <pre class="view_code" id="view_code_bucket" style="display:none;">[
    {
        &quot;bucket&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;bucket&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;bucket_bucket&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Name of Google Cloud Bucket to create.&quot;
                }
            },
            &quot;emails&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;bucket_emails&quot;,
                    &quot;kind&quot;: &quot;string_list&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Comma separated emails.&quot;
                }
            },
            &quot;groups&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;bucket_groups&quot;,
                    &quot;kind&quot;: &quot;string_list&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Comma separated groups.&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/bucket.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/bucket_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/bucket.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bucket">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_12" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">notifications</i></td>
          <td style="vertical-align: top;">
            <h4>Say Hello</h4>
            <p>TASK: hello</p>
            <p>Recipe template for say hello.</p>
            <ol>
              <li>This should be called for testing only.</li>
            </ol>
            <pre class="view_code" id="view_code_hello" style="display:none;">[
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;say&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;say_first&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;Hello Once&quot;,
                    &quot;description&quot;: &quot;Type in a greeting.&quot;
                }
            },
            &quot;error&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;error&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 3,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Optional error for testing.&quot;
                }
            },
            &quot;sleep&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sleep&quot;,
                    &quot;kind&quot;: &quot;integer&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: 0,
                    &quot;description&quot;: &quot;Seconds to sleep.&quot;
                }
            }
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;say&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;say_second&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;Hello Twice&quot;,
                    &quot;description&quot;: &quot;Type in a greeting.&quot;
                }
            },
            &quot;sleep&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sleep&quot;,
                    &quot;kind&quot;: &quot;integer&quot;,
                    &quot;order&quot;: 4,
                    &quot;default&quot;: 0,
                    &quot;description&quot;: &quot;Seconds to sleep.&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/hello.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/hello_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/hello.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_hello">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">notifications</i></td>
          <td style="vertical-align: top;">
            <h4>Test Script</h4>
            <p>TASK: manual</p>
            <p>Used by tests.</p>
            <ol>
              <li>This should be called by the tests scripts only.</li><li>When run will generate a say hello log.</li>
            </ol>
            <pre class="view_code" id="view_code_manual" style="display:none;">[
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [],
            &quot;say&quot;: &quot;Hello Manual&quot;,
            &quot;sleep&quot;: 0
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/manual.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/manual_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/manual.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_manual">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">notifications</i></td>
          <td style="vertical-align: top;">
            <h4>Test Script</h4>
            <p>TASK: test</p>
            <p>Used by tests.</p>
            <ol>
              <li>This should be called by the tests scripts only.</li><li>When run will generate a say hello log.</li>
            </ol>
            <pre class="view_code" id="view_code_test" style="display:none;">[
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [
                1
            ],
            &quot;say&quot;: &quot;Hello At 1&quot;,
            &quot;sleep&quot;: 0
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [
                3
            ],
            &quot;say&quot;: &quot;Hello At 3&quot;,
            &quot;sleep&quot;: 0
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [],
            &quot;say&quot;: &quot;Hello Manual&quot;,
            &quot;sleep&quot;: 0
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [
                23
            ],
            &quot;say&quot;: &quot;Hello At 23 Sleep&quot;,
            &quot;sleep&quot;: 30
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;say&quot;: &quot;Hello At Anytime&quot;,
            &quot;sleep&quot;: 0
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [
                1,
                3,
                23
            ],
            &quot;say&quot;: &quot;Hello At 1, 3, 23&quot;,
            &quot;sleep&quot;: 0
        }
    },
    {
        &quot;hello&quot;: {
            &quot;auth&quot;: &quot;user&quot;,
            &quot;hour&quot;: [
                3
            ],
            &quot;say&quot;: &quot;Hello At 3 Reordered&quot;,
            &quot;sleep&quot;: 0
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/test.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/test_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/test.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_test">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_13" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <h4>Trends Places To BigQuery Via Query</h4>
            <p>TASK: trends_places_to_bigquery_via_query</p>
            <p>Move using a WOEID query.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide BigQuery WOEID source query.</li><li>Specify BigQuery dataset and table to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_bigquery_via_query" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;secret&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;key&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_query&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 4,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_legacy&quot;,
                                &quot;kind&quot;: &quot;boolean&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: false
                            }
                        }
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/trends_places_to_bigquery_via_query.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/trends_places_to_bigquery_via_query_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/trends_places_to_bigquery_via_query.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_bigquery_via_query">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <h4>Trends Places To BigQuery Via Values</h4>
            <p>TASK: trends_places_to_bigquery_via_value</p>
            <p>Move using hard coded WOEID values.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide a comma delimited list of WOEIDs.</li><li>Specify BigQuery dataset and table to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_bigquery_via_value" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;secret&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;key&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;woeids&quot;,
                            &quot;kind&quot;: &quot;integer_list&quot;,
                            &quot;order&quot;: 3,
                            &quot;default&quot;: []
                        }
                    }
                }
            },
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_dataset&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_table&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/trends_places_to_bigquery_via_value.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/trends_places_to_bigquery_via_value_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/trends_places_to_bigquery_via_value.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_bigquery_via_value">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <h4>Trends Places To Sheets Via Query</h4>
            <p>TASK: trends_places_to_sheets_via_query</p>
            <p>Move using a WOEID query.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide BigQuery WOEID source query.</li><li>Specify Sheet url and tab to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_sheets_via_query" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;secret&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;key&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_query&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 4,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_legacy&quot;,
                                &quot;kind&quot;: &quot;boolean&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: false
                            }
                        }
                    }
                }
            },
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_sheet&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_tab&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;range&quot;: &quot;A1&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/trends_places_to_sheets_via_query.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/trends_places_to_sheets_via_query_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/trends_places_to_sheets_via_query.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_sheets_via_query">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <h4>Trends Places To Sheets Via Values</h4>
            <p>TASK: trends_places_to_sheets_via_value</p>
            <p>Move using hard coded WOEID values.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide a comma delimited list of WOEIDs.</li><li>Specify Sheet url and tab to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_sheets_via_value" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;auth&quot;: &quot;service&quot;,
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;secret&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;key&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;
                }
            },
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true,
                    &quot;bigquery&quot;: {
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_dataset&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 3,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_query&quot;,
                                &quot;kind&quot;: &quot;string&quot;,
                                &quot;order&quot;: 4,
                                &quot;default&quot;: &quot;&quot;
                            }
                        },
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;name&quot;: &quot;places_legacy&quot;,
                                &quot;kind&quot;: &quot;boolean&quot;,
                                &quot;order&quot;: 5,
                                &quot;default&quot;: false
                            }
                        }
                    }
                }
            },
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_sheet&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 6,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;name&quot;: &quot;destination_tab&quot;,
                            &quot;kind&quot;: &quot;string&quot;,
                            &quot;order&quot;: 7,
                            &quot;default&quot;: &quot;&quot;
                        }
                    },
                    &quot;range&quot;: &quot;A1&quot;
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/trends_places_to_sheets_via_value.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/trends_places_to_sheets_via_value_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/trends_places_to_sheets_via_value.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_sheets_via_value">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_14" style="display:none;">
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">switch_video</i></td>
          <td style="vertical-align: top;">
            <h4>Video Overlay</h4>
            <p>TASK: video</p>
            <p>Add images, text, and audio to videos.</p>
            <ol>
              <li>Provide either a sheet or a BigQuery table.</li><li>Each video edit will be read from the sheet or table.</li>
            </ol>
            <pre class="view_code" id="view_code_video" style="display:none;">[
    {
        &quot;sheets&quot;: {
            &quot;__comment__&quot;: &quot;Copy the tamplate sheet to the users sheet.  If it already exists, nothing happens.&quot;,
            &quot;auth&quot;: &quot;user&quot;,
            &quot;template&quot;: {
                &quot;sheet&quot;: &quot;https://docs.google.com/spreadsheets/d/1BXRHWz-1P3gNS92WZy-3sPZslU8aalXa8heOgygWEFs/edit#gid=0&quot;,
                &quot;tab&quot;: &quot;Video&quot;
            },
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;sheet&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 1,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Name or URL of sheet.&quot;
                }
            },
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;name&quot;: &quot;tab&quot;,
                    &quot;kind&quot;: &quot;string&quot;,
                    &quot;order&quot;: 2,
                    &quot;default&quot;: &quot;&quot;,
                    &quot;description&quot;: &quot;Name of sheet tab.&quot;
                }
            }
        }
    },
    {
        &quot;video&quot;: {
            &quot;__comment__&quot;: &quot;Read video effects and values from sheet and/or bigquery.&quot;,
            &quot;auth&quot;: &quot;user&quot;,
            &quot;sheets&quot;: {
                &quot;sheet&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;sheet&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 1,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name or URL of sheet.&quot;
                    }
                },
                &quot;tab&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;tab&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 2,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of sheet tab.&quot;
                    }
                }
            },
            &quot;bigquery&quot;: {
                &quot;project&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;project&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 3,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Google Cloud Project Identifier.&quot;
                    }
                },
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;dataset&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 4,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of dataset.&quot;
                    }
                },
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;name&quot;: &quot;table&quot;,
                        &quot;kind&quot;: &quot;string&quot;,
                        &quot;order&quot;: 5,
                        &quot;default&quot;: &quot;&quot;,
                        &quot;description&quot;: &quot;Name of table.&quot;
                    }
                }
            }
        }
    }
]</pre>
          </td>
          <td style="vertical-align:top; width:160px;">
           
            
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/scripts/video.json" target="_blank">GitHub&nbsp;<i class="material-icons">list</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://github.com/google/starthinker/blob/master/dags/video_dag.py" target="_blank">Airflow&nbsp;<i class="material-icons">copyright</i></a>
              <a class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" href="https://colab.research.google.com/github/google/starthinker/blob/master/colabs/video.ipynb" target="_blank">Colab&nbsp;<i class="material-icons">exit_to_app</i></a>
            
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_video">JSON&nbsp;<i class="material-icons">expand_more</i></span>
          </td>
        </tr>
      
      </tbody>
    </table>
  

  <br/><br/>
  <h3 id="code-tasks">Can Always Write Your Own Custom Task</h3>
  <p class="flow-text">See <a href="https://github.com/google/starthinker/tree/master/tutorials/README.md" target="_blank">StarThinker Tutorial</a> for creating a json task anyone can use.</p>


    </div>

  </body>

  

<footer class="page-footer red lighten-1">
  <div class="footer-copyright">
    <div class="container center">
    &copy; 2019 Google, Inc
    </div>
  </div>
</footer>


  <script type="text/javascript">
    $(document).ready(function() {
      $(".button-collapse").sideNav();
      $('select').material_select();
      $('.modal').modal();
    });
  </script>

  
  <script type="text/javascript">
    $(document).ready(function() {
      $('span.trigger_product').on('click tap', function() {
        $('table.view_product').hide();
        $('#' + this.id.replace('trigger_', 'view_') ).show();
      });
      $('span.trigger_code').on('click tap', function() {
        $('#' + this.id.replace('trigger_', 'view_') ).toggle();
      });
    });
  </script>


</html>
