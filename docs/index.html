<!DOCTYPE html>
<html>
  <head>

    <link rel="shortcut icon" href="https://storage.googleapis.com/starthinker-ui/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://storage.googleapis.com/starthinker-ui/favicon.ico" type="image/x-icon">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://storage.googleapis.com/starthinker-ui/css/materialize.min.css">

    <style>
       html { color: rgba(68,68,68,1); text-shadow: 5px 5px 15px rgba(168,168,168,0.5); }
 
       #message { justify-content: center; font-size: 2em;}
       #message i { font-size: 2em; margin: 10px; }
       #message ul, #message li { display: inline; margin-left: 10px; }
       #page { width: 100%; max-width: 1280px; min-height: 500px; margin: 0px auto; padding-bottom: 50px; }

       span.square_box {
         display: inline-block;
         width: 40px;
         height: 40px;
         border: 2px solid #fff;
         text-align: center;
         line-height: 40px;
         margin: 5px;
       }

       div.nav-wrapper { padding-left: 1%; padding-right: 1%; }
       h1 a i.material-icons { font-size: 3.28rem; }
       a.brand-logo img { vertical-align: middle; width: 40px; height: 40px; }
       ol li { line-height: 1.8em; }
       textarea { margin-top: 7px; height: 10rem; }
       table.list { width: 96%; max-width: 800px; margin: 0px auto; line-height: 1.8em; }
       a.menu_link { display: inline-block; margin: 20px; }

       div.split { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; width: 100%; margin: 20px auto; }
       div.split_left { flex-grow: 1; flex-basis: 0; min-width: 300px; border-right: 1px solid #eee; padding: 20px; }
       div.split_right { flex-grow: 2; flex-basis: 0; min-width: 300px; padding: 20px; }

       div.service_card { min-height: 250px; width: 300px; margin: 10px;}
       div.service_callouts { display: flex; align-items: flex-start; justify-content: left; flex-wrap: wrap; width: 100%; }
       div.service_callout { min-width: 48%; margin-right: 2%; line-height: 2.4em;}
       div.row { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; }

       #cards { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; width: 100%; }
       #cards div.card { width: 300px; margin: 20px; padding: 0.1px; text-align: left; }
       div.card h4 { width 100%; padding: 20px;}
       div.card h4 i.material-icons { font-size: 2.28rem; }
       div.card table { margin: 0px 5% 30px 5%; width: 90%; }

       .card .card-content .card-title { word-wrap: break-word; }
       div.select-wrapper { margin-top: 2rem; }

       
    </style>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  
  <nav>
    <div class="nav-wrapper">
      <a href="." class="brand-logo"><img src="https://storage.googleapis.com/starthinker-ui/StarThinker.png"/>&nbsp;StarThinker</a>
    </div>
  </nav>


  <body>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://storage.googleapis.com/starthinker-ui/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://storage.googleapis.com/starthinker-ui/js/materialize.min.js"></script>

    

    <div id="page" class="center">
      

  <h1 id="recipe-scripts">Open Source Handover</h1>
  <p class="flow-text">Quickly deploying recipes and solutions using <a href="https://github.com/google/starthinker" target="_blank">StarThinker Framework</a>.</p>

  <br/>
  <h3 id="recipe_run">Running A JSON Recipe</h3>
  <p class="flow-text">You received a recipe from Google, here is how to run it in 15 minutes.</p>

  <table class="bordered highlight list">
    <thead>
      <tr>
        <th class="center" style="width:90px;"></th>
        <th>Instructions</th>
        <th class="center-align" style="width:90px;">Minutes</th>
      </tr>
    </thead>
    <tbody>

      <tr>
        <td><i class="material-icons medium teal-text">file_download</i></td>
        <td>
          <strong>Get the open source framework:</strong>
          <br/>Request access to the private ( beta ) repository, email <a href="mailto:starthinker-help@google.com?subject=Custom+StarThinker+Recipe">starthinker-help@google.com</a>.
          <br/>git clone <a href="https://github.com/google/starthinker">https://github.com/google/starthinker</a>
          <br/>cd starthinker
        </td>
        <td class="center-align">1</td>
      </tr>

      <tr>
         <td><i class="material-icons medium teal-text">build</i></td>
         <td>
           <strong>Set up and run using deploy script:</strong>
           <br/>./deploy.sh
           <br/>Choose 1) Full Setup
           <br/>Choose 9) Add Recipe
           <br/>Choose 10) Run Recipe
         </td>
         <td class="center-align">4</td>
       </tr>

       <tr>
         <td><i class="material-icons medium teal-text">settings</i></td>
         <td>
           <strong>Or set up and run using command line:</strong>
           <br/>pip install -r requirements.txt
           <br/>source setup.sh
           <br/>python all/run.py project/sample/say_hello.json
           <br/>python all/run.py [recipe json path] -p [project id] -c [client json path] -s [service json path] -u [user json path] --verbose
           <br/>If you need to download service, client, or user credentials. ( use deploy.sh )
           <br/>Create a <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank">cloud project</a>.
           <br/>Create <a href="https://cloud.google.com/docs/authentication/api-keys" target="_blank">client credentials ( other )</a>, download json.
           <br/>Create <a href="https://cloud.google.com/iam/docs/creating-managing-service-accounts" target="_blank">service credentials</a>, download json.
         </td>
         <td class="center-align">4</td>
       </tr>

    </tbody>
  </table>

  <br/><br/>
  <h3 id="cron_deployment">Basic Recipe Cloud Scheduler</h3>
  <p class="flow-text">Create a minimal cloud cron to run recipes on a schedule.</p>

  <table class="bordered highlight list">
    <tbody>

      <tr>
        <td class="center">
          <i class="material-icons medium teal-text">cloud</i>
        </td>
        <td>
          <strong>Creates a cloud machine that will run StarThinker jobs 24 hours a day.</strong>
          <br/>Create a <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank">cloud project</a>.
          <br/>Within a Google Cloud Project visit <a href="https://pantheon.corp.google.com/compute/instances">Compute Engine &rarr; VM Instances</a>
          <br/>We recommend starting the following setup:
          <br/>Machine type: micro (1 shared vCPU), f1-micro
          <br/>Identity and API access: Allow full access to all Cloud APIs
          <br/>Boot Disk Choose: SUSE Linux Enterprise Server
          <br/>Click Create
        </td>
      </tr>

      <tr>
        <td class="center">
          <i class="material-icons medium teal-text">loop</i>
        </td>
        <td>
          <strong>Deploy a cron job to run recipes.</strong>
          <br>SSH into the new instance.
          <br/>Request access to the private repository, email <a href="mailto:starthinker-help@google.com?subject=Custom+StarThinker+Recipe">starthinker-help@google.com</a>.
          <br/>On the command line run:
          <br/>git clone <a href="https://github.com/google/starthinker">https://github.com/google/starthinker</a>
          <br/>cd starthinker
          <br/>./deploy.sh
          <br/>Choose 1) Full Setup
          <br/>Choose 9) Add Recipe
          <br/>Choose 6) Start Cron
        </td>
      </tr>

    </tbody>
  </table>


  <br/><br/>
  <h3 id="tips_tricks">Helpful Tips And Tricks</h3>
  <p class="flow-text">Best practices for finding, using, and building code on top of StarThinker.</p>

  <table class="bordered highlight list">
    <tbody>
      <tr>
        <th style="vertical-align:top;">1</th>
        <td>Look for helper.py to invoke the code from the command line, helpful for testing setup.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">2</th>
        <td>Look in solutions/*.json and projects/sample/*.json for samples.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">3</th>
        <td>Look in [task]/script*.json for json definitions.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">4</th>
        <td>Review arguments in utils/project/__init__.py at least once.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">5</th>
        <td>Learn to love: find . -name '*.py' | xargs grep 'somestring'</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">6</th>
        <td>Adding --verbose to python all/run.py or python [task]/run.py produces debug.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">7</th>
        <td>Read the core framework documentation and code that glues things together:
            <br/>&nbsp;&nbsp;&nbsp;util/project/__init__.py
            <br/>&nbsp;&nbsp;&nbsp;util/data/__init__.py
            <br/>&nbsp;&nbsp;&nbsp;util/google_api/__init__.py
            <br/>&nbsp;&nbsp;&nbsp;solution/run.py
        </td>
      </tr>
      <tr>
        <th style="vertical-align:top;">8</th>
        <td>python solution/run.py [json] --directory [dir] creates recipes.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">9</th>
        <td>Make use of util/data/__init__.py ( get_rows / put_rows ).</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">10</th>
        <td>Use shared links for sheets.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">11</th>
        <td>First get the data, then operate on it.</td>
      </tr>
      <tr>
        <th style="vertical-align:top;">12</th>
        <td>There are more than 3 ways to do anything by design.</td>
      </tr>
    </tbody>
  </table>

  <br/><br/>
  <h3 id="recipe_code">Coding A Recipe</h3>
  <p class="flow-text">Create a recipe by assembling tested reliable json instructions.</p>

  <table class="bordered highlight list">
    <tbody>
      <tr>
        <td style="vertical-align:top;width:90px;"><i class="material-icons medium teal-text">content_paste</i></td>
        <td>
          <strong>1. Copy the recipe template...</strong>
          <br/>cp project/sample/say_hello.json project/[ldap]/[project_name].json
          <br/>vi project/[ldap]/[project_name].json
        </td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td style="vertical-align:top;"><i class="material-icons medium teal-text">list</i></td>
        <td>
           <strong>2. Add task json from the list below to execute tasks.</strong>
           <br/>Copy and paste each task JSON into the "task":[...] list.
           <br/>Replace { "field": ... } with actual values.
           </br/>You can change the "auth" from "user" to "service".
           <br/>You can add "day" and "hour" elements to a task to execute at specific times.
           <br/>Look through the sample recipes in /project/* for reference implementations. 
        </td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td style="vertical-align:top;"><i class="material-icons medium teal-text">settings</i></td>
        <td>
           <strong>3. Run and test your script. You can run it all or parts to help debug.</strong>
           <br/>To run the whole script...
           <br/>python all/run.py project/[ldap]/[project_name].json --verbose
           <br/>To run a specific task...
           <br/>python [task]/run.py project/[ldap]/[project_name].json --verbose -i 1
           <br/>To run on a schedule ...
           <br/>python cron/run.py project/[ldap]/
        </td>
      </tr>
    </tbody>
  </table>

  <br/><br/>
  <h3 id="recipe_tasks">Available Recipe Tasks</h3>
  <p class="flow-text">Copy and paste the JSON to add tasks to your recipe. Replace <i>{ "field": ... }</i> with your values.</p>

  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_1">BigQuery</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_2">DBM</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_3">DCM</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_4">Google API</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_5">Sheets</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_6">Storage</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_7">Twitter</span>
  
     <span class="trigger_product menu_link waves-effect waves-dark btn-flat grey lighten-3" id="trigger_product_8">gTech</span>
  

  <br/><br/>
  
    <table class="view_product bordered highlight list" id="view_product_1">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>BigQuery</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">device_hub</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_mapping">JSON</span>
            <h4>Column Mapping</h4>
            <p>TASK: mapping</p>
            <p>Use sheet to define keyword to column mappings.</p>
            <ol>
              <li>For the sheet, provide the full URL.</li><li>A tab called <strong>Mapping</strong> will be created.</li><li>Follow the instructions in the tab to complete the mapping.</li><li>The in table should have the columns you want to map.</li><li>The out view will have the new columns created in the mapping.</li>
            </ol>
            <pre class="view_code" id="view_code_mapping" style="display:none;">[
    {
        &quot;mapping&quot;: {
            &quot;in&quot;: {
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;in_table&quot;, 
                        &quot;order&quot;: 4
                    }
                }, 
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;in_dataset&quot;, 
                        &quot;order&quot;: 3
                    }
                }
            }, 
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;sheet&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;tab&quot;, 
                    &quot;order&quot;: 2
                }
            }, 
            &quot;out&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;out_dataset&quot;, 
                        &quot;order&quot;: 7
                    }
                }, 
                &quot;view&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;out_view&quot;, 
                        &quot;order&quot;: 8
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">folder</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dataset">JSON</span>
            <h4>Dataset</h4>
            <p>TASK: dataset</p>
            <p>Create and permission a dataset in BigQuery.</p>
            <ol>
              <li>Specify the name of the dataset.</li><li>If dataset exists, it is inchanged.</li><li>Add emails and / or groups to add read permission.</li><li>CAUTION: Removing permissions in StarThinker has no effect.</li><li>CAUTION: To remove permissions you have to edit the dataset.</li>
            </ol>
            <pre class="view_code" id="view_code_dataset" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;emails&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string_list&quot;, 
                    &quot;order&quot;: 2, 
                    &quot;description&quot;: &quot;Comma separated emails.&quot;, 
                    &quot;name&quot;: &quot;dataset_emails&quot;
                }
            }, 
            &quot;groups&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string_list&quot;, 
                    &quot;order&quot;: 3, 
                    &quot;description&quot;: &quot;Comma separated groups.&quot;, 
                    &quot;name&quot;: &quot;dataset_groups&quot;
                }
            }, 
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 1, 
                    &quot;description&quot;: &quot;Name of Google BigQuery dataset to create.&quot;, 
                    &quot;name&quot;: &quot;dataset_dataset&quot;
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_query">JSON</span>
            <h4>Query To Table</h4>
            <p>TASK: bigquery_query</p>
            <p>Save query results into a BigQuery table.</p>
            <ol>
              <li>Specify a single query and choose legacy or standard mode.</li><li>For PLX use: SELECT * FROM [plx.google:FULL_TABLE_NAME.all] WHERE...</li><li>Every time the query runs it will overwrite the table.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_query" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;to&quot;: {
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 3, 
                        &quot;description&quot;: &quot;Table to create from this query.&quot;, 
                        &quot;name&quot;: &quot;table&quot;
                    }
                }, 
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;, 
                        &quot;name&quot;: &quot;dataset&quot;
                    }
                }
            }, 
            &quot;from&quot;: {
                &quot;query&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;text&quot;, 
                        &quot;order&quot;: 1, 
                        &quot;description&quot;: &quot;SQL with newlines and all.&quot;, 
                        &quot;name&quot;: &quot;query&quot;
                    }
                }, 
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: true, 
                        &quot;kind&quot;: &quot;boolean&quot;, 
                        &quot;order&quot;: 4, 
                        &quot;description&quot;: &quot;Query type must match source tables.&quot;, 
                        &quot;name&quot;: &quot;legacy&quot;
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_view">JSON</span>
            <h4>Query To View</h4>
            <p>TASK: bigquery_view</p>
            <p>Create a BigQuery view.</p>
            <ol>
              <li>Specify a single query and choose legacy or standard mode.</li><li>For PLX use: SELECT * FROM [plx.google:FULL_TABLE_NAME.all] WHERE...</li><li>If the view exists, it is unchanged, delete it manually to re-create.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_view" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;, 
                        &quot;name&quot;: &quot;dataset&quot;
                    }
                }, 
                &quot;view&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 3, 
                        &quot;description&quot;: &quot;View to create from this query.&quot;, 
                        &quot;name&quot;: &quot;view&quot;
                    }
                }
            }, 
            &quot;from&quot;: {
                &quot;query&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;text&quot;, 
                        &quot;order&quot;: 1, 
                        &quot;description&quot;: &quot;SQL with newlines and all.&quot;, 
                        &quot;name&quot;: &quot;query&quot;
                    }
                }, 
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: true, 
                        &quot;kind&quot;: &quot;boolean&quot;, 
                        &quot;order&quot;: 4, 
                        &quot;description&quot;: &quot;Query type must match source tables.&quot;, 
                        &quot;name&quot;: &quot;legacy&quot;
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_forward</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bigquery_storage">JSON</span>
            <h4>Storage To Table</h4>
            <p>TASK: bigquery_storage</p>
            <p>Move using bucket and path prefix.</p>
            <ol>
              <li>Specify a bucket and path prefix, * suffix is NOT required.</li><li>Every time the job runs it will overwrite the table.</li>
            </ol>
            <pre class="view_code" id="view_code_bigquery_storage" style="display:none;">[
    {
        &quot;bigquery&quot;: {
            &quot;to&quot;: {
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 4, 
                        &quot;description&quot;: &quot;Table to create from this query.&quot;, 
                        &quot;name&quot;: &quot;table&quot;
                    }
                }, 
                &quot;auth&quot;: &quot;service&quot;, 
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 3, 
                        &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;, 
                        &quot;name&quot;: &quot;dataset&quot;
                    }
                }
            }, 
            &quot;from&quot;: {
                &quot;path&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;Path prefix to read from, no * required.&quot;, 
                        &quot;name&quot;: &quot;path&quot;
                    }
                }, 
                &quot;bucket&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 1, 
                        &quot;description&quot;: &quot;Google cloud bucket.&quot;, 
                        &quot;name&quot;: &quot;bucket&quot;
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;schema&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;[]&quot;, 
                    &quot;kind&quot;: &quot;json&quot;, 
                    &quot;order&quot;: 5, 
                    &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;, 
                    &quot;name&quot;: &quot;schema&quot;
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_2" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>DBM</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm">JSON</span>
            <h4>DBM Report</h4>
            <p>TASK: dbm</p>
            <p>Create a DBM report.</p>
            <ol>
              <li>Reference field values from the <a href='https://developers.google.com/bid-manager/v1/reports'>DBM API</a> to build a report.</li><li>Filters for partners and advertisers are added from the partners and advertisers field.</li><li>The report is only created, use a move script to move it.</li><li>A report with a ( Starthinker ) suffix will be created in DBM.</li><li>To reset a report, delete it from DBM reporting.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;report&quot;: {
                &quot;partners&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer_list&quot;, 
                        &quot;name&quot;: &quot;dbm_partners&quot;, 
                        &quot;order&quot;: 3
                    }
                }, 
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;dbm_title&quot;, 
                        &quot;order&quot;: 2
                    }
                }, 
                &quot;data_range&quot;: &quot;LAST_7_DAYS&quot;, 
                &quot;metrics&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: [
                            &quot;METRIC_REVENUE_ADVERTISER&quot;, 
                            &quot;METRIC_IMPRESSIONS&quot;
                        ], 
                        &quot;kind&quot;: &quot;string_list&quot;, 
                        &quot;name&quot;: &quot;dbm_metrics&quot;, 
                        &quot;order&quot;: 8
                    }
                }, 
                &quot;filters&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;[]&quot;, 
                        &quot;kind&quot;: &quot;json&quot;, 
                        &quot;name&quot;: &quot;dbm_filters&quot;, 
                        &quot;order&quot;: 9
                    }
                }, 
                &quot;timezone&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;America/Los_Angeles&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;dbm_timezone&quot;, 
                        &quot;order&quot;: 6
                    }
                }, 
                &quot;advertisers&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer_list&quot;, 
                        &quot;name&quot;: &quot;dbm_advertisers&quot;, 
                        &quot;order&quot;: 4
                    }
                }, 
                &quot;type&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;TYPE_CROSS_PARTNER&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;dbm_type&quot;, 
                        &quot;order&quot;: 5
                    }
                }, 
                &quot;dimensions&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: [
                            &quot;FILTER_DATE&quot;, 
                            &quot;FILTER_ADVERTISER&quot;, 
                            &quot;FILTER_INSERTION_ORDER&quot;, 
                            &quot;FILTER_CREATIVE_ID&quot;, 
                            &quot;FILTER_ADVERTISER_CURRENCY&quot;
                        ], 
                        &quot;kind&quot;: &quot;string_list&quot;, 
                        &quot;name&quot;: &quot;dbm_dimensions&quot;, 
                        &quot;order&quot;: 7
                    }
                }
            }, 
            &quot;datastudio&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: false, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;name&quot;: &quot;dbm_datastudio&quot;, 
                    &quot;order&quot;: 12
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm_to_bigquery">JSON</span>
            <h4>DBM To BigQuery</h4>
            <p>TASK: dbm_to_bigquery</p>
            <p>Move existing DBM reports into a BigQuery table.</p>
            <ol>
              <li>Specify either report name or report id to move a report.</li><li>A schema is recommended, if not provided it will be guessed.</li><li>The most recent valid file will be moved to the table.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm_to_bigquery" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;Name of report, not needed if ID used.&quot;, 
                        &quot;name&quot;: &quot;dbm_report_name&quot;
                    }
                }, 
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;order&quot;: 1, 
                        &quot;description&quot;: &quot;DBM report ID given in UI, not needed if name used.&quot;, 
                        &quot;name&quot;: &quot;dbm_report_id&quot;
                    }
                }
            }, 
            &quot;datastudio&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: true, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;order&quot;: 5, 
                    &quot;description&quot;: &quot;Format date and column nulls for DataStudio?&quot;, 
                    &quot;name&quot;: &quot;dbm_datastudio&quot;
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 4, 
                            &quot;description&quot;: &quot;Table to create from this report.&quot;, 
                            &quot;name&quot;: &quot;dbm_table&quot;
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 3, 
                            &quot;description&quot;: &quot;Existing BigQuery dataset.&quot;, 
                            &quot;name&quot;: &quot;dbm_dataset&quot;
                        }
                    }, 
                    &quot;schema&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;[]&quot;, 
                            &quot;kind&quot;: &quot;json&quot;, 
                            &quot;order&quot;: 5, 
                            &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;, 
                            &quot;name&quot;: &quot;dbm_schema&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm_to_sheets">JSON</span>
            <h4>DBM To Sheets</h4>
            <p>TASK: dbm_to_sheets</p>
            <p>Move existing DBM report into a Sheets tab.</p>
            <ol>
              <li>Specify either report name or report id to move a report.</li><li>The most recent valid file will be moved to the sheet.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm_to_sheets" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;Name of report, not needed if ID used.&quot;, 
                        &quot;name&quot;: &quot;report_name&quot;
                    }
                }, 
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;order&quot;: 1, 
                        &quot;description&quot;: &quot;DBM report ID given in UI, not needed if name used.&quot;, 
                        &quot;name&quot;: &quot;report_id&quot;
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;range&quot;: &quot;A1&quot;, 
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 3, 
                            &quot;description&quot;: &quot;Full URL to sheet being written to.&quot;, 
                            &quot;name&quot;: &quot;sheet&quot;
                        }
                    }, 
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 4, 
                            &quot;description&quot;: &quot;Existing tab in sheet to write to.&quot;, 
                            &quot;name&quot;: &quot;tab&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_large</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dbm_to_storage">JSON</span>
            <h4>DBM To Storage</h4>
            <p>TASK: dbm_to_storage</p>
            <p>Move existing DBM report into a Storage bucket.</p>
            <ol>
              <li>Specify either report name or report id to move a report.</li><li>The most recent valid file will be moved to the bucket.</li>
            </ol>
            <pre class="view_code" id="view_code_dbm_to_storage" style="display:none;">[
    {
        &quot;dbm&quot;: {
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;Name of report, not needed if ID used.&quot;, 
                        &quot;name&quot;: &quot;dbm_report_name&quot;
                    }
                }, 
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;order&quot;: 1, 
                        &quot;description&quot;: &quot;DBM report ID given in UI, not needed if name used.&quot;, 
                        &quot;name&quot;: &quot;dbm_report_id&quot;
                    }
                }
            }, 
            &quot;datastudio&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: true, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;order&quot;: 5, 
                    &quot;description&quot;: &quot;Format date and column nulls for DataStudio?&quot;, 
                    &quot;name&quot;: &quot;dbm_datastudio&quot;
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;storage&quot;: {
                    &quot;path&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 4, 
                            &quot;description&quot;: &quot;Path and filename to write to.&quot;, 
                            &quot;name&quot;: &quot;dbm_path&quot;
                        }
                    }, 
                    &quot;bucket&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 3, 
                            &quot;description&quot;: &quot;Google cloud bucket.&quot;, 
                            &quot;name&quot;: &quot;dbm_bucket&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_upward</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_lineitem_write_from_bigquery">JSON</span>
            <h4>Line Item From BigQuery</h4>
            <p>TASK: lineitem_write_from_bigquery</p>
            <p>Upload Line Items From BigQuery To DBM.</p>
            <ol>
              <li>Specify the table or view where the lineitem data is defined.</li><li>The schema should match <a href='https://developers.google.com/bid-manager/guides/entity-write/format' target='_blank'>Entity Write Format</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_lineitem_write_from_bigquery" style="display:none;">[
    {
        &quot;lineitem&quot;: {
            &quot;write&quot;: {
                &quot;dry_run&quot;: false, 
                &quot;bigquery&quot;: {
                    &quot;query&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;SELECT * FROM `Dataset.Table`;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;query&quot;, 
                            &quot;order&quot;: 2
                        }
                    }, 
                    &quot;legacy&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: false, 
                            &quot;kind&quot;: &quot;boolean&quot;, 
                            &quot;name&quot;: &quot;legacy&quot;, 
                            &quot;order&quot;: 3
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;, 
                            &quot;order&quot;: 1
                        }
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_downward</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_lineitem_read_to_bigquery_via_query">JSON</span>
            <h4>Line Item To BigQuery Via Query</h4>
            <p>TASK: lineitem_read_to_bigquery_via_query</p>
            <p>Move using an Id query.</p>
            <ol>
              <li>Specify the query that will pull the lineitem ids to download.</li><li>Specify the dataset and table where the lineitems will be written.</li><li>The schema will match <a href='https://developers.google.com/bid-manager/guides/entity-write/format' target='_blank'>Entity Write Format</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_lineitem_read_to_bigquery_via_query" style="display:none;">[
    {
        &quot;lineitem&quot;: {
            &quot;read&quot;: {
                &quot;line_items&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;bigquery&quot;: {
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;SELECT * FROM `Dataset.Table`;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;id_query&quot;, 
                                &quot;order&quot;: 2
                            }
                        }, 
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: false, 
                                &quot;kind&quot;: &quot;boolean&quot;, 
                                &quot;name&quot;: &quot;id_legacy&quot;, 
                                &quot;order&quot;: 3
                            }
                        }, 
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;id_dataset&quot;, 
                                &quot;order&quot;: 1
                            }
                        }
                    }
                }, 
                &quot;out&quot;: {
                    &quot;bigquery&quot;: {
                        &quot;table&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;destination_table&quot;, 
                                &quot;order&quot;: 5
                            }
                        }, 
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;destination_dataset&quot;, 
                                &quot;order&quot;: 4
                            }
                        }
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">arrow_downward</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_lineitem_read_to_bigquery_via_value">JSON</span>
            <h4>Line Item To BigQuery Via Values</h4>
            <p>TASK: lineitem_read_to_bigquery_via_value</p>
            <p>Move using hard coded Id values.</p>
            <ol>
              <li>Provide a comma delimited list of line item ids.</li><li>Specify the dataset and table where the lineitems will be written.</li><li>The schema will match <a href='https://developers.google.com/bid-manager/guides/entity-write/format' target='_blank'>Entity Write Format</a>.</li>
            </ol>
            <pre class="view_code" id="view_code_lineitem_read_to_bigquery_via_value" style="display:none;">[
    {
        &quot;lineitem&quot;: {
            &quot;read&quot;: {
                &quot;line_items&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: [], 
                            &quot;kind&quot;: &quot;integer_list&quot;, 
                            &quot;name&quot;: &quot;ids&quot;, 
                            &quot;order&quot;: 1
                        }
                    }
                }, 
                &quot;out&quot;: {
                    &quot;bigquery&quot;: {
                        &quot;table&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;destination_table&quot;, 
                                &quot;order&quot;: 3
                            }
                        }, 
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;destination_dataset&quot;, 
                                &quot;order&quot;: 2
                            }
                        }
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_3" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>DCM</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_upload</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_conversion_upload_from_biguery">JSON</span>
            <h4>Conversion Upload BigQuery</h4>
            <p>TASK: conversion_upload_from_biguery</p>
            <p>Move from BigQuery to DCM.</p>
            <ol>
              <li>Specify a DCM Account ID, Floodligh Activity ID and Conversion Type.</li><li>Include BigQuery dataset and table.</li><li>Columns: Ordinal, timestampMicros, encryptedUserId | encryptedUserIdCandidates | gclid | mobileDeviceId</li><li>Include encryption information if using encryptedUserId or encryptedUserIdCandidates.</li>
            </ol>
            <pre class="view_code" id="view_code_conversion_upload_from_biguery" style="display:none;">[
    {
        &quot;conversion_upload&quot;: {
            &quot;activity_id&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;integer&quot;, 
                    &quot;name&quot;: &quot;floodlight_activity_id&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;account_id&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;account&quot;, 
                    &quot;order&quot;: 0
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;conversion_type&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;encryptedUserId&quot;, 
                    &quot;kind&quot;: &quot;choice&quot;, 
                    &quot;order&quot;: 2, 
                    &quot;name&quot;: &quot;floodlight_conversion_type&quot;, 
                    &quot;choices&quot;: [
                        &quot;encryptedUserId&quot;, 
                        &quot;encryptedUserIdCandidates&quot;, 
                        &quot;gclid&quot;, 
                        &quot;mobileDeviceId&quot;
                    ]
                }
            }, 
            &quot;bigquery&quot;: {
                &quot;table&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;bigquery_table&quot;, 
                        &quot;order&quot;: 7
                    }
                }, 
                &quot;legacy&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: true, 
                        &quot;kind&quot;: &quot;boolean&quot;, 
                        &quot;name&quot;: &quot;bigquery_legacy&quot;, 
                        &quot;order&quot;: 8
                    }
                }, 
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;bigquery_dataset&quot;, 
                        &quot;order&quot;: 6
                    }
                }
            }, 
            &quot;encryptionInfo&quot;: {
                &quot;encryptionEntityId&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;name&quot;: &quot;encryption_entity_id&quot;, 
                        &quot;order&quot;: 3
                    }
                }, 
                &quot;encryptionSource&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;DATA_TRANSFER&quot;, 
                        &quot;kind&quot;: &quot;choice&quot;, 
                        &quot;order&quot;: 5, 
                        &quot;name&quot;: &quot;encryption_entity_source&quot;, 
                        &quot;choices&quot;: [
                            &quot;AD_SERVING&quot;, 
                            &quot;DATA_TRANSFER&quot;, 
                            &quot;ENCRYPTION_SCOPE_UNKNOWN&quot;
                        ]
                    }
                }, 
                &quot;encryptionEntityType&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;DCM_ACCOUNT&quot;, 
                        &quot;kind&quot;: &quot;choice&quot;, 
                        &quot;order&quot;: 4, 
                        &quot;name&quot;: &quot;encryption_entity_type&quot;, 
                        &quot;choices&quot;: [
                            &quot;ADWORDS_CUSTOMER&quot;, 
                            &quot;DBM_ADVERTISER&quot;, 
                            &quot;DBM_PARTNER&quot;, 
                            &quot;DCM_ACCOUNT&quot;, 
                            &quot;DCM_ADVERTISER&quot;, 
                            &quot;ENCRYPTION_ENTITY_TYPE_UNKNOWN&quot;
                        ]
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_upload</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_conversion_upload_from_sheets">JSON</span>
            <h4>Conversion Upload Sheets</h4>
            <p>TASK: conversion_upload_from_sheets</p>
            <p>Move form Sheets to DCM.</p>
            <ol>
              <li>Specify a DCM Account ID, Floodligh Activity ID and Conversion Type.</li><li>Include Sheets url, tab, and range, omit headers in range.</li><li>Columns: Ordinal, timestampMicros, encryptedUserId | encryptedUserIdCandidates | gclid | mobileDeviceId</li><li>Include encryption information if using encryptedUserId or encryptedUserIdCandidates.</li>
            </ol>
            <pre class="view_code" id="view_code_conversion_upload_from_sheets" style="display:none;">[
    {
        &quot;conversion_upload&quot;: {
            &quot;activity_id&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;integer&quot;, 
                    &quot;name&quot;: &quot;floodlight_activity_id&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;account_id&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;dcm_account&quot;, 
                    &quot;order&quot;: 0
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;conversion_type&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;encryptedUserId&quot;, 
                    &quot;kind&quot;: &quot;choice&quot;, 
                    &quot;order&quot;: 2, 
                    &quot;name&quot;: &quot;floodlight_conversion_type&quot;, 
                    &quot;choices&quot;: [
                        &quot;encryptedUserId&quot;, 
                        &quot;encryptedUserIdCandidates&quot;, 
                        &quot;gclid&quot;, 
                        &quot;mobileDeviceId&quot;
                    ]
                }
            }, 
            &quot;sheets&quot;: {
                &quot;url&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;sheet_url&quot;, 
                        &quot;order&quot;: 9
                    }
                }, 
                &quot;range&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;sheet_range&quot;, 
                        &quot;order&quot;: 11
                    }
                }, 
                &quot;tab&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;sheet_tab&quot;, 
                        &quot;order&quot;: 10
                    }
                }
            }, 
            &quot;encryptionInfo&quot;: {
                &quot;encryptionEntityId&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;name&quot;: &quot;encryption_entity_id&quot;, 
                        &quot;order&quot;: 3
                    }
                }, 
                &quot;encryptionSource&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;DATA_TRANSFER&quot;, 
                        &quot;kind&quot;: &quot;choice&quot;, 
                        &quot;order&quot;: 5, 
                        &quot;name&quot;: &quot;encryption_entity_source&quot;, 
                        &quot;choices&quot;: [
                            &quot;AD_SERVING&quot;, 
                            &quot;DATA_TRANSFER&quot;, 
                            &quot;ENCRYPTION_SCOPE_UNKNOWN&quot;
                        ]
                    }
                }, 
                &quot;encryptionEntityType&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;DCM_ACCOUNT&quot;, 
                        &quot;kind&quot;: &quot;choice&quot;, 
                        &quot;order&quot;: 4, 
                        &quot;name&quot;: &quot;encryption_entity_type&quot;, 
                        &quot;choices&quot;: [
                            &quot;ADWORDS_CUSTOMER&quot;, 
                            &quot;DBM_ADVERTISER&quot;, 
                            &quot;DBM_PARTNER&quot;, 
                            &quot;DCM_ACCOUNT&quot;, 
                            &quot;DCM_ADVERTISER&quot;, 
                            &quot;ENCRYPTION_ENTITY_TYPE_UNKNOWN&quot;
                        ]
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm">JSON</span>
            <h4>DCM Report</h4>
            <p>TASK: dcm</p>
            <p>Create a DCM report from a JSON definition.</p>
            <ol>
              <li>Add a an account as [account_id]@[profile_id]</li><li>Fetch the report JSON definition. Arguably could be better.</li><li>The account is automatically added to the report definition.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;report&quot;: {
                &quot;body&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;json&quot;, 
                        &quot;name&quot;: &quot;body&quot;, 
                        &quot;order&quot;: 2
                    }
                }, 
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;account&quot;, 
                        &quot;order&quot;: 1
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;delete&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;name&quot;: &quot;delete&quot;, 
                    &quot;order&quot;: 3
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_bulk_standard">JSON</span>
            <h4>DCM Standard Bulk</h4>
            <p>TASK: dcm_bulk_standard</p>
            <p>Aggregate multiple standard DCM reports into one BigQuery or Sheet.</p>
            <ol>
              <li>See API docs for <a href='https://developers.google.com/doubleclick-advertisers/v3.2/dimensions' target='_blank'>Metrics</a>.</li><li>DCM report name format '[Report Name] [Account ID] ( StarThinker )'.</li><li>Specify either bucket and path or dataset and table.</li><li>Schema is pulled from the official DCM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_bulk_standard" style="display:none;">[
    {
        &quot;dcm_bulk&quot;: {
            &quot;datastudio&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: true, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;name&quot;: &quot;datastudio&quot;, 
                    &quot;order&quot;: 11
                }
            }, 
            &quot;name&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;name&quot;, 
                    &quot;order&quot;: 2
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;accounts&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;integer_list&quot;, 
                    &quot;name&quot;: &quot;accounts&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;report&quot;: {
                &quot;metrics&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: [
                            &quot;impressions&quot;
                        ], 
                        &quot;kind&quot;: &quot;string_list&quot;, 
                        &quot;name&quot;: &quot;dcm_metrics&quot;, 
                        &quot;order&quot;: 5
                    }
                }, 
                &quot;relativeDateRange&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;LAST_7_DAYS&quot;, 
                        &quot;kind&quot;: &quot;choice&quot;, 
                        &quot;order&quot;: 3, 
                        &quot;name&quot;: &quot;range&quot;, 
                        &quot;choices&quot;: [
                            &quot;LAST_24_MONTHS&quot;, 
                            &quot;LAST_30_DAYS&quot;, 
                            &quot;LAST_365_DAYS&quot;, 
                            &quot;LAST_7_DAYS&quot;, 
                            &quot;LAST_90_DAYS&quot;, 
                            &quot;MONTH_TO_DATE&quot;, 
                            &quot;PREVIOUS_MONTH&quot;, 
                            &quot;PREVIOUS_QUARTER&quot;, 
                            &quot;PREVIOUS_WEEK&quot;, 
                            &quot;PREVIOUS_YEAR&quot;, 
                            &quot;QUARTER_TO_DATE&quot;, 
                            &quot;TODAY&quot;, 
                            &quot;WEEK_TO_DATE&quot;, 
                            &quot;YEAR_TO_DATE&quot;, 
                            &quot;YESTERDAY&quot;
                        ]
                    }
                }, 
                &quot;type&quot;: &quot;STANDARD&quot;, 
                &quot;dimensions&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: [
                            &quot;date&quot;, 
                            &quot;platformType&quot;, 
                            &quot;creativeType&quot;, 
                            &quot;state&quot;, 
                            &quot;dmaRegion&quot;
                        ], 
                        &quot;kind&quot;: &quot;string_list&quot;, 
                        &quot;name&quot;: &quot;dcm_dimensions&quot;, 
                        &quot;order&quot;: 4
                    }
                }, 
                &quot;timeout&quot;: 0
            }, 
            &quot;delete&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: false, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;name&quot;: &quot;delete&quot;, 
                    &quot;order&quot;: 10
                }
            }, 
            &quot;out&quot;: {
                &quot;storage&quot;: {
                    &quot;path&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;DCM_Report&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;path&quot;, 
                            &quot;order&quot;: 8
                        }
                    }, 
                    &quot;bucket&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;bucket&quot;, 
                            &quot;order&quot;: 7
                        }
                    }
                }, 
                &quot;bigquery&quot;: {
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;table&quot;, 
                            &quot;order&quot;: 6
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;, 
                            &quot;order&quot;: 5
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_to_bigquery">JSON</span>
            <h4>DCM To BigQuery</h4>
            <p>TASK: dcm_to_bigquery</p>
            <p>Move existing DCM report into a BigQuery table.</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to move a report.</li><li>The most recent valid file will overwrite the table.</li><li>Schema is pulled from the official DCM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_to_bigquery" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;order&quot;: 2, 
                        &quot;description&quot;: &quot;DCM network id.&quot;, 
                        &quot;name&quot;: &quot;account&quot;
                    }
                }, 
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;order&quot;: 4, 
                        &quot;description&quot;: &quot;DCM report name, empty if using id instead.&quot;, 
                        &quot;name&quot;: &quot;report_name&quot;
                    }
                }, 
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;order&quot;: 3, 
                        &quot;description&quot;: &quot;DCM report id, empty if using name .&quot;, 
                        &quot;name&quot;: &quot;report_id&quot;
                    }
                }
            }, 
            &quot;datastudio&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: true, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;order&quot;: 7, 
                    &quot;description&quot;: &quot;Alter columns for datastudio, fixes nulls and date format.&quot;, 
                    &quot;name&quot;: &quot;datastudio&quot;
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 6, 
                            &quot;description&quot;: &quot;Table to be written to in BigQuery.&quot;, 
                            &quot;name&quot;: &quot;table&quot;
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 5, 
                            &quot;description&quot;: &quot;Dataset to be written to in BigQuery.&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_to_sheets">JSON</span>
            <h4>DCM To Sheets</h4>
            <p>TASK: dcm_to_sheets</p>
            <p>Move existing DCM report into a Sheet tab.</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to move a report.</li><li>The most recent valid file will be moved to the sheet.</li><li>Schema is pulled from the official DCM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_to_sheets" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;name&quot;: &quot;account&quot;, 
                        &quot;order&quot;: 2
                    }
                }, 
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;report_name&quot;, 
                        &quot;order&quot;: 4
                    }
                }, 
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;name&quot;: &quot;report_id&quot;, 
                        &quot;order&quot;: 3
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;range&quot;: &quot;A1&quot;, 
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;sheet&quot;, 
                            &quot;order&quot;: 5
                        }
                    }, 
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;tab&quot;, 
                            &quot;order&quot;: 6
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">donut_small</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dcm_to_storage">JSON</span>
            <h4>DCM To Storage</h4>
            <p>TASK: dcm_to_storage</p>
            <p>Move existing DCM report into a Storage bucket.</p>
            <ol>
              <li>Specify an account id.</li><li>Specify either report name or report id to move a report.</li><li>The most recent file will be moved to the bucket.</li><li>Schema is pulled from the official DCM specification.</li>
            </ol>
            <pre class="view_code" id="view_code_dcm_to_storage" style="display:none;">[
    {
        &quot;dcm&quot;: {
            &quot;report&quot;: {
                &quot;account&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;name&quot;: &quot;account&quot;, 
                        &quot;order&quot;: 2
                    }
                }, 
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;report_name&quot;, 
                        &quot;order&quot;: 4
                    }
                }, 
                &quot;report_id&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;integer&quot;, 
                        &quot;name&quot;: &quot;report_id&quot;, 
                        &quot;order&quot;: 3
                    }
                }
            }, 
            &quot;datastudio&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: true, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;name&quot;: &quot;datastudio&quot;, 
                    &quot;order&quot;: 7
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;storage&quot;: {
                    &quot;path&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;DCM_Report&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;path&quot;, 
                            &quot;order&quot;: 6
                        }
                    }, 
                    &quot;bucket&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;bucket&quot;, 
                            &quot;order&quot;: 5
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_4" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>Google API</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">settings_input_component</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_google_api_to_bigquery">JSON</span>
            <h4>API To BigQuery</h4>
            <p>TASK: google_api_to_bigquery</p>
            <p>Execute a Google API function and store results to BigQuery.</p>
            <ol>
              <li>Enter an api name and version.</li><li>Specify the function using dot notation and arguments using json.</li><li>If nextPageToken can be in response check iterate.</li><li>Give BigQuery dataset and table where response will be written.</li>
            </ol>
            <pre class="view_code" id="view_code_google_api_to_bigquery" style="display:none;">[
    {
        &quot;google_api&quot;: {
            &quot;function&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;reports.files.list&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 3, 
                    &quot;description&quot;: &quot;Full function dot notation path.&quot;, 
                    &quot;name&quot;: &quot;function&quot;
                }
            }, 
            &quot;api&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;doubleclickbidmanager&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 1, 
                    &quot;description&quot;: &quot;See developer guide.&quot;, 
                    &quot;name&quot;: &quot;api&quot;
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;version&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;v1&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 2, 
                    &quot;description&quot;: &quot;Must be supported version.&quot;, 
                    &quot;name&quot;: &quot;version&quot;
                }
            }, 
            &quot;kwargs&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: {
                        &quot;profileId&quot;: 2782211, 
                        &quot;reportId&quot;: 132847265, 
                        &quot;accountId&quot;: 7480
                    }, 
                    &quot;kind&quot;: &quot;json&quot;, 
                    &quot;order&quot;: 4, 
                    &quot;description&quot;: &quot;Dictionray object of name value pairs.&quot;, 
                    &quot;name&quot;: &quot;kwargs&quot;
                }
            }, 
            &quot;iterate&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: false, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;order&quot;: 5, 
                    &quot;description&quot;: &quot;Is the result a list?&quot;, 
                    &quot;name&quot;: &quot;iterate&quot;
                }
            }, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 6, 
                            &quot;description&quot;: &quot;Existing dataset in BigQuery.&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;
                        }
                    }, 
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 7, 
                            &quot;description&quot;: &quot;Table to write API call results to.&quot;, 
                            &quot;name&quot;: &quot;table&quot;
                        }
                    }, 
                    &quot;schema&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: [], 
                            &quot;kind&quot;: &quot;json&quot;, 
                            &quot;order&quot;: 9, 
                            &quot;description&quot;: &quot;Schema provided in JSON list format or empty list.&quot;, 
                            &quot;name&quot;: &quot;schema&quot;
                        }
                    }, 
                    &quot;format&quot;: &quot;JSON&quot;
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">file_download</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_email_to_bigquery">JSON</span>
            <h4>Email Fetch</h4>
            <p>TASK: email_to_bigquery</p>
            <p>Import emailed csv or excel into a BigQuery table.</p>
            <ol>
              <li>The person executing this recipe must be the recipient of the email.</li><li>Schedule a CSV or Excel to be sent to <b>{{ EMAIL_TOKEN }}</b>.</li><li>Give a regular expression to match the email subject, link or attachment.</li><li>The data downloaded will overwrite the table specified.</li>
            </ol>
            <pre class="view_code" id="view_code_email_to_bigquery" style="display:none;">[
    {
        &quot;email&quot;: {
            &quot;in&quot;: {
                &quot;email&quot;: {
                    &quot;to&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 2, 
                            &quot;description&quot;: &quot;Must match to field.&quot;, 
                            &quot;name&quot;: &quot;email_to&quot;
                        }
                    }, 
                    &quot;subject&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 3, 
                            &quot;description&quot;: &quot;Regular expression to match subject.&quot;, 
                            &quot;name&quot;: &quot;subject&quot;
                        }
                    }, 
                    &quot;link&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 4, 
                            &quot;description&quot;: &quot;Regular expression to match email.&quot;, 
                            &quot;name&quot;: &quot;link&quot;
                        }
                    }, 
                    &quot;attachment&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 5, 
                            &quot;description&quot;: &quot;Regular expression to match atttachment.&quot;, 
                            &quot;name&quot;: &quot;attachment&quot;
                        }
                    }, 
                    &quot;from&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 1, 
                            &quot;description&quot;: &quot;Must match from field.&quot;, 
                            &quot;name&quot;: &quot;email_from&quot;
                        }
                    }
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 7, 
                            &quot;description&quot;: &quot;Name of table to be written to.&quot;, 
                            &quot;name&quot;: &quot;table&quot;
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;order&quot;: 6, 
                            &quot;description&quot;: &quot;Existing dataset in BigQuery.&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_5" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>Sheets</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">view_column</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_sheets_clear">JSON</span>
            <h4>Sheet Clear</h4>
            <p>TASK: sheets_clear</p>
            <p>Clear data from a sheet.</p>
            <ol>
              <li>For the sheet, provide the full edit URL.</li>
            </ol>
            <pre class="view_code" id="view_code_sheets_clear" style="display:none;">[
    {
        &quot;sheets&quot;: {
            &quot;clear&quot;: true, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;sheets_sheet&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;range&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;sheets_range&quot;, 
                    &quot;order&quot;: 3
                }
            }, 
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;sheets_tab&quot;, 
                    &quot;order&quot;: 2
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">view_column</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_sheets_copy">JSON</span>
            <h4>Sheet Copy</h4>
            <p>TASK: sheets_copy</p>
            <p>Copy tab from a sheet to a sheet.</p>
            <ol>
              <li>Provide the full edit URL for both sheets.</li><li>Provide the tab name for both sheets.</li><li>The tab will only be copied if it does not already exist.</li>
            </ol>
            <pre class="view_code" id="view_code_sheets_copy" style="display:none;">[
    {
        &quot;sheets&quot;: {
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;to_sheet&quot;, 
                    &quot;order&quot;: 3
                }
            }, 
            &quot;template&quot;: {
                &quot;sheet&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;from_sheet&quot;, 
                        &quot;order&quot;: 1
                    }
                }, 
                &quot;tab&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;from_tab&quot;, 
                        &quot;order&quot;: 2
                    }
                }
            }, 
            &quot;tab&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;to_tab&quot;, 
                    &quot;order&quot;: 4
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_6" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>Storage</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">archive</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_archive">JSON</span>
            <h4>Archive</h4>
            <p>TASK: archive</p>
            <p>Wipe old information from a Storage bucket.</p>
            <ol>
              <li>Specify how many days back to retain data and which buckets and paths to purge.</li><li>Everything under a path will be moved to archive or deleted depending on your choice.</li>
            </ol>
            <pre class="view_code" id="view_code_archive" style="display:none;">[
    {
        &quot;archive&quot;: {
            &quot;storage&quot;: {
                &quot;path&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;archive_path&quot;, 
                        &quot;order&quot;: 3
                    }
                }, 
                &quot;bucket&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;archive_bucket&quot;, 
                        &quot;order&quot;: 2
                    }
                }
            }, 
            &quot;days&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: 7, 
                    &quot;kind&quot;: &quot;integer&quot;, 
                    &quot;name&quot;: &quot;archive_days&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;delete&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: false, 
                    &quot;kind&quot;: &quot;boolean&quot;, 
                    &quot;name&quot;: &quot;archive_delete&quot;, 
                    &quot;order&quot;: 4
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">storage</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_bucket">JSON</span>
            <h4>Bucket</h4>
            <p>TASK: bucket</p>
            <p>Create and permission a bucket in Storage.</p>
            <ol>
              <li>Specify the name of the bucket and who will have owner permissions.</li><li>Existing buckets are preserved.</li><li>Adding a permission to the list will update the permissions but removing them will not.</li><li>You have to manualy remove grants.</li>
            </ol>
            <pre class="view_code" id="view_code_bucket" style="display:none;">[
    {
        &quot;bucket&quot;: {
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;bucket&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 2, 
                    &quot;description&quot;: &quot;Name of Google Cloud Bucket to create.&quot;, 
                    &quot;name&quot;: &quot;bucket_bucket&quot;
                }
            }, 
            &quot;emails&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string_list&quot;, 
                    &quot;order&quot;: 3, 
                    &quot;description&quot;: &quot;Comma separated emails.&quot;, 
                    &quot;name&quot;: &quot;bucket_emails&quot;
                }
            }, 
            &quot;groups&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string_list&quot;, 
                    &quot;order&quot;: 4, 
                    &quot;description&quot;: &quot;Comma separated groups.&quot;, 
                    &quot;name&quot;: &quot;bucket_groups&quot;
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_7" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>Twitter</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_bigquery_via_query">JSON</span>
            <h4>Trends Places To BigQuery Via Query</h4>
            <p>TASK: trends_places_to_bigquery_via_query</p>
            <p>Move using a WOEID query.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide BigQuery WOEID source query.</li><li>Specify BigQuery dataset and table to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_bigquery_via_query" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;secret&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;bigquery&quot;: {
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;places_query&quot;, 
                                &quot;order&quot;: 4
                            }
                        }, 
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: false, 
                                &quot;kind&quot;: &quot;boolean&quot;, 
                                &quot;name&quot;: &quot;places_legacy&quot;, 
                                &quot;order&quot;: 5
                            }
                        }, 
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;places_dataset&quot;, 
                                &quot;order&quot;: 3
                            }
                        }
                    }
                }
            }, 
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;key&quot;, 
                    &quot;order&quot;: 2
                }
            }, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_table&quot;, 
                            &quot;order&quot;: 7
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_dataset&quot;, 
                            &quot;order&quot;: 6
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_bigquery_via_value">JSON</span>
            <h4>Trends Places To BigQuery Via Values</h4>
            <p>TASK: trends_places_to_bigquery_via_value</p>
            <p>Move using hard coded WOEID values.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide a comma delimited list of WOEIDs.</li><li>Specify BigQuery dataset and table to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_bigquery_via_value" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;secret&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;values&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: [], 
                            &quot;kind&quot;: &quot;integer_list&quot;, 
                            &quot;name&quot;: &quot;woeids&quot;, 
                            &quot;order&quot;: 3
                        }
                    }
                }
            }, 
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;key&quot;, 
                    &quot;order&quot;: 2
                }
            }, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_table&quot;, 
                            &quot;order&quot;: 7
                        }
                    }, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_dataset&quot;, 
                            &quot;order&quot;: 6
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_sheets_via_query">JSON</span>
            <h4>Trends Places To Sheets Via Query</h4>
            <p>TASK: trends_places_to_sheets_via_query</p>
            <p>Move using a WOEID query.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide BigQuery WOEID source query.</li><li>Specify Sheet url and tab to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_sheets_via_query" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;secret&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;bigquery&quot;: {
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;places_query&quot;, 
                                &quot;order&quot;: 4
                            }
                        }, 
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: false, 
                                &quot;kind&quot;: &quot;boolean&quot;, 
                                &quot;name&quot;: &quot;places_legacy&quot;, 
                                &quot;order&quot;: 5
                            }
                        }, 
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;places_dataset&quot;, 
                                &quot;order&quot;: 3
                            }
                        }
                    }
                }
            }, 
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;key&quot;, 
                    &quot;order&quot;: 2
                }
            }, 
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;range&quot;: &quot;A1&quot;, 
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_sheet&quot;, 
                            &quot;order&quot;: 6
                        }
                    }, 
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_tab&quot;, 
                            &quot;order&quot;: 7
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">perm_phone_msg</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_trends_places_to_sheets_via_value">JSON</span>
            <h4>Trends Places To Sheets Via Values</h4>
            <p>TASK: trends_places_to_sheets_via_value</p>
            <p>Move using hard coded WOEID values.</p>
            <ol>
              <li>Provide <a href='https://apps.twitter.com/' target='_blank'>Twitter credentials</a>.</li><li>Provide a comma delimited list of WOEIDs.</li><li>Specify Sheet url and tab to write API call results to.</li><li>Writes: WOEID, Name, Url, Promoted_Content, Query, Tweet_Volume</li><li>Note Twitter API is rate limited to 15 requests per 15 minutes. So keep WOEID lists short.</li>
            </ol>
            <pre class="view_code" id="view_code_trends_places_to_sheets_via_value" style="display:none;">[
    {
        &quot;twitter&quot;: {
            &quot;secret&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;secret&quot;, 
                    &quot;order&quot;: 1
                }
            }, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;trends&quot;: {
                &quot;places&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;bigquery&quot;: {
                        &quot;query&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;places_query&quot;, 
                                &quot;order&quot;: 4
                            }
                        }, 
                        &quot;legacy&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: false, 
                                &quot;kind&quot;: &quot;boolean&quot;, 
                                &quot;name&quot;: &quot;places_legacy&quot;, 
                                &quot;order&quot;: 5
                            }
                        }, 
                        &quot;dataset&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;name&quot;: &quot;places_dataset&quot;, 
                                &quot;order&quot;: 3
                            }
                        }
                    }
                }
            }, 
            &quot;key&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;key&quot;, 
                    &quot;order&quot;: 2
                }
            }, 
            &quot;out&quot;: {
                &quot;sheets&quot;: {
                    &quot;range&quot;: &quot;A1&quot;, 
                    &quot;sheet&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_sheet&quot;, 
                            &quot;order&quot;: 6
                        }
                    }, 
                    &quot;tab&quot;: {
                        &quot;field&quot;: {
                            &quot;default&quot;: &quot;&quot;, 
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;destination_tab&quot;, 
                            &quot;order&quot;: 7
                        }
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  
    <table class="view_product bordered highlight list" id="view_product_8" style="display:none;">
      <thead>
        <tr>
          <th class="center" style="width:90px;"></th>
          <th>gTech</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">whatshot</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_deal_finder">JSON</span>
            <h4>Deal Finder</h4>
            <p>TASK: deal_finder</p>
            <p>Compares open vs. deal CPM, CPC, and CPA so that clients can decide which sites, inventory, and deals work best.</p>
            <ol>
              <li>Wait for <b>BigQuery->StarThinker Data->%(name)s->Deal_Finder_Dashboard</b> to be created.</li><li>Copy <a href='https://datastudio.google.com/open/1QrWNTurvQT6nx20vnzdDveSzSmRjqHxQ' target='_blank'>Deal Finder Sample Data</a>.</li><li>Click Edit Connection, and change to <b>BigQuery->StarThinker Data->%(name)s->Deal_Finder_Dashboard</b>.</li><li>Copy <a href='https://datastudio.google.com/open/1fjRI5AIKTYTA4fWs-pYkJbIMgCumlMyO' target='_blank'>Deal Finder Sample Report</a>.</li><li>When prompted choose the new data source you just created.</li><li>Or give these intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_deal_finder" style="display:none;">[
    {
        &quot;dataset&quot;: {
            &quot;dataset&quot;: {
                &quot;field&quot;: {
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;dataset&quot;, 
                    &quot;description&quot;: &quot;Place where tables will be created in BigQuery.&quot;
                }
            }, 
            &quot;description&quot;: &quot;Create a dataset for bigquery tables.&quot;, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;hour&quot;: [
                4
            ]
        }
    }, 
    {
        &quot;sheets&quot;: {
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 1, 
                    &quot;description&quot;: &quot;URL to sheet where DBM accounts will be read from.&quot;, 
                    &quot;name&quot;: &quot;dbm_sheet&quot;
                }
            }, 
            &quot;description&quot;: &quot;DBM Partner and Advertiser input sheet template.&quot;, 
            &quot;hour&quot;: [
                3
            ], 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;tab&quot;: &quot;Deal Finder&quot;, 
            &quot;template&quot;: {
                &quot;sheet&quot;: &quot;https://docs.google.com/spreadsheets/d/1WrytP5Jxwi4I-53i-1OvdTVsXA0zXsge1z0N9yasCZc/edit?usp=sharing&quot;, 
                &quot;tab&quot;: &quot;Accounts&quot;
            }
        }
    }, 
    {
        &quot;dbm&quot;: {
            &quot;report&quot;: {
                &quot;partners&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;sheet&quot;: {
                        &quot;url&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;order&quot;: 1, 
                                &quot;description&quot;: &quot;URL to sheet where DBM accounts will be read from.&quot;, 
                                &quot;name&quot;: &quot;dbm_sheet&quot;
                            }
                        }, 
                        &quot;range&quot;: &quot;A2:A&quot;, 
                        &quot;tab&quot;: &quot;Deal Finder&quot;
                    }
                }, 
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;description&quot;: &quot;Name of report in DBM, should be unique.&quot;, 
                        &quot;prefix&quot;: &quot;Deal_Finder_&quot;, 
                        &quot;name&quot;: &quot;report&quot;
                    }
                }, 
                &quot;data_range&quot;: &quot;LAST_30_DAYS&quot;, 
                &quot;metrics&quot;: [
                    &quot;METRIC_IMPRESSIONS&quot;, 
                    &quot;METRIC_CLICKS&quot;, 
                    &quot;METRIC_TOTAL_CONVERSIONS&quot;, 
                    &quot;METRIC_TOTAL_MEDIA_COST_ADVERTISER&quot;, 
                    &quot;METRIC_REVENUE_ADVERTISER&quot;, 
                    &quot;METRIC_ACTIVE_VIEW_MEASURABLE_IMPRESSIONS&quot;, 
                    &quot;METRIC_ACTIVE_VIEW_VIEWABLE_IMPRESSIONS&quot;
                ], 
                &quot;timezone&quot;: {
                    &quot;field&quot;: {
                        &quot;kind&quot;: &quot;timezone&quot;, 
                        &quot;name&quot;: &quot;timezone&quot;, 
                        &quot;description&quot;: &quot;Timezone in &#39;America/Los_Angeles&#39; format.&quot;
                    }
                }, 
                &quot;advertisers&quot;: {
                    &quot;single_cell&quot;: true, 
                    &quot;sheet&quot;: {
                        &quot;url&quot;: {
                            &quot;field&quot;: {
                                &quot;default&quot;: &quot;&quot;, 
                                &quot;kind&quot;: &quot;string&quot;, 
                                &quot;order&quot;: 1, 
                                &quot;description&quot;: &quot;URL to sheet where DBM accounts will be read from.&quot;, 
                                &quot;name&quot;: &quot;dbm_sheet&quot;
                            }
                        }, 
                        &quot;range&quot;: &quot;B2:B&quot;, 
                        &quot;tab&quot;: &quot;Deal Finder&quot;
                    }
                }, 
                &quot;type&quot;: &quot;TYPE_CROSS_PARTNER&quot;, 
                &quot;dimensions&quot;: [
                    &quot;FILTER_PARTNER&quot;, 
                    &quot;FILTER_ADVERTISER&quot;, 
                    &quot;FILTER_SITE_ID&quot;, 
                    &quot;FILTER_INVENTORY_SOURCE&quot;, 
                    &quot;FILTER_INVENTORY_SOURCE_TYPE&quot;, 
                    &quot;FILTER_ADVERTISER_CURRENCY&quot;, 
                    &quot;FILTER_CREATIVE_SIZE&quot;, 
                    &quot;FILTER_CREATIVE_TYPE&quot;
                ]
            }, 
            &quot;description&quot;: &quot;Create a DBM report.&quot;, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;hour&quot;: [
                3
            ]
        }
    }, 
    {
        &quot;dbm&quot;: {
            &quot;report&quot;: {
                &quot;name&quot;: {
                    &quot;field&quot;: {
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;description&quot;: &quot;Name of report in DBM, should be unique.&quot;, 
                        &quot;prefix&quot;: &quot;Deal_Finder_&quot;, 
                        &quot;name&quot;: &quot;report&quot;
                    }
                }, 
                &quot;timeout&quot;: 10
            }, 
            &quot;out&quot;: {
                &quot;bigquery&quot;: {
                    &quot;table&quot;: &quot;Deal_Finder_DBM_Report&quot;, 
                    &quot;dataset&quot;: {
                        &quot;field&quot;: {
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;, 
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }, 
                    &quot;schema&quot;: [
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Partner&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;Partner_ID&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Partner_Status&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Advertiser&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;Advertiser_ID&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Advertiser_Status&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Advertiser_Integration_Code&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Site&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;Site_ID&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Inventory&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;Inventory_ID&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Inventory_Type&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Advertiser_Currency&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Creative_Width&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Creative_Height&quot;, 
                            &quot;mode&quot;: &quot;NULLABLE&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;STRING&quot;, 
                            &quot;name&quot;: &quot;Creative_Type&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;Impressions&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;Clicks&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;FLOAT&quot;, 
                            &quot;name&quot;: &quot;Conversions&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;FLOAT&quot;, 
                            &quot;name&quot;: &quot;Cost&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;FLOAT&quot;, 
                            &quot;name&quot;: &quot;Revenue&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;AV_Impressions_Measurable&quot;
                        }, 
                        {
                            &quot;type&quot;: &quot;INTEGER&quot;, 
                            &quot;name&quot;: &quot;AV_Impressions_Viewable&quot;
                        }
                    ]
                }
            }, 
            &quot;description&quot;: &quot;Copy a DBM report to BigQuery.&quot;, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;hour&quot;: [
                4
            ]
        }
    }, 
    {
        &quot;bigquery&quot;: {
            &quot;to&quot;: {
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;dataset&quot;, 
                        &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                    }
                }, 
                &quot;view&quot;: &quot;Deal_Finder_Dashboard&quot;
            }, 
            &quot;from&quot;: {
                &quot;query&quot;: &quot;SELECT Partner, Partner_ID, Advertiser, Advertiser_ID, Site, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Size, Always_On, Deal_Impressions, Open_Impressions, Rank_Impressions, Deal_Clicks, Open_Clicks, Rank_Clicks, Deal_Conversions, Open_Conversions, Rank_Conversions, Deal_Impressions_Viewable, Open_Impressions_Viewable, Rank_Impressions_Viewable, Deal_Impressions_Measurable, Open_Impressions_Measurable, Rank_Impressions_Measurable, Deal_Cost, Open_Cost, Rank_Cost, FROM ( SELECT FIRST(Partner) AS Partner, FIRST(Partner_ID) AS Partner_ID, FIRST(Advertiser) AS Advertiser, Advertiser_ID, First(Site) AS Site, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Width + &#39; x &#39; + Creative_Height AS Creative_Size, IF (LEFT(Inventory, 5) == &#39;AO - &#39;, True, False) AS Always_On, SUM(Deal_Impressions) AS Deal_Impressions, SUM(Open_Impressions) AS Open_Impressions, SUM(Open_Impressions) + SUM(Deal_Impressions) AS Total_Impressions, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Impressions DESC) AS Rank_Impressions, SUM(Deal_Clicks) AS Deal_Clicks, SUM(Open_Clicks) AS Open_Clicks, SUM(Open_Clicks) + SUM(Deal_Clicks) AS Total_Clicks, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Clicks DESC) AS Rank_Clicks, SUM(Deal_Conversions) AS Deal_Conversions, SUM(Open_Conversions) AS Open_Conversions, SUM(Open_Conversions) + SUM(Deal_Conversions) AS Total_Conversions, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Conversions DESC) AS Rank_Conversions, SUM(Deal_Cost) AS Deal_Cost, SUM(Open_Cost) AS Open_Cost, SUM(Open_Cost) + SUM(Deal_Cost) AS Total_Cost, RANK() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Cost DESC) AS Rank_Cost, SUM(Deal_Impressions_Viewable) AS Deal_Impressions_Viewable, SUM(Open_Impressions_Viewable) AS Open_Impressions_Viewable, SUM(Open_Impressions_Viewable) + SUM(Deal_Impressions_Viewable) AS Total_Impressions_Viewable, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Impressions_Viewable DESC) AS Rank_Impressions_Viewable, SUM(Deal_Impressions_Measurable) AS Deal_Impressions_Measurable, SUM(Open_Impressions_Measurable) AS Open_Impressions_Measurable, SUM(Open_Impressions_Measurable) + SUM(Deal_Impressions_Measurable) AS Total_Impressions_Measurable, ROW_NUMBER() OVER (PARTITION BY Advertiser_ID ORDER BY Total_Impressions_Measurable DESC) AS Rank_Impressions_Measurable, FROM ( SELECT Partner, Partner_ID, Advertiser, Advertiser_ID, Site, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Width, Creative_Height, IF(Inventory_ID IS NULL, Impressions, 0) AS Open_Impressions, IF(Inventory_ID IS NULL, 0, Impressions) AS Deal_Impressions, IF(Inventory_ID IS NULL, Clicks, 0) AS Open_Clicks, IF(Inventory_ID IS NULL, 0, Clicks) AS Deal_Clicks, IF(Inventory_ID IS NULL, Conversions, 0) AS Open_Conversions, IF(Inventory_ID IS NULL, 0, Conversions) AS Deal_Conversions, IF(Inventory_ID IS NULL, Cost, 0) AS Open_Cost, IF(Inventory_ID IS NULL, 0, Cost) AS Deal_Cost, IF(Inventory_ID IS NULL, AV_Impressions_Viewable, 0) AS Open_Impressions_Viewable, IF(Inventory_ID IS NULL, 0, AV_Impressions_Viewable) AS Deal_Impressions_Viewable, IF(Inventory_ID IS NULL, AV_Impressions_Measurable, 0) AS Open_Impressions_Measurable, IF(Inventory_ID IS NULL, 0, AV_Impressions_Measurable) AS Deal_Impressions_Measurable, FROM [[PARAMETER].Deal_Finder_DBM_Report] OMIT RECORD IF Site == &#39;Low volume inventory&#39;) GROUP By Advertiser_ID, Site_ID, Inventory, Inventory_Type, Creative_Type, Creative_Size, Always_On) WHERE Rank_Impressions &lt; 100 OR Rank_Clicks &lt; 100 OR Rank_Conversions &lt; 100 OR Rank_Cost &lt; 100;&quot;, 
                &quot;parameters&quot;: [
                    {
                        &quot;field&quot;: {
                            &quot;kind&quot;: &quot;string&quot;, 
                            &quot;name&quot;: &quot;dataset&quot;, 
                            &quot;description&quot;: &quot;Place where tables will be written in BigQuery.&quot;
                        }
                    }
                ]
            }, 
            &quot;description&quot;: &quot;The logic query for Deal Finder, transforms report into view used by datastudio.&quot;, 
            &quot;auth&quot;: &quot;service&quot;, 
            &quot;hour&quot;: [
                4
            ]
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">monetization_on</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_dynamic_costs">JSON</span>
            <h4>Dynamic Costs Reporting</h4>
            <p>TASK: dynamic_costs</p>
            <p>Calculate DBM cost at the dynamic creative combination level.</p>
            <ol>
              <li>Add a sheet URL. This is where you will enter advertiser and campaign level details.</li><li>Specify the DCM network ID.</li><li>Click run now once, and a tab called <strong>Dynamic Costs</strong> will be added to the sheet with instructions.</li><li>Follow the instructions on the sheet; this will be your configuration.</li><li>StarThinker will create two or three (depending on the case) reports in DCM named <strong>Dynamic Costs - ...</strong>.</li><li>Wait for <b>BigQuery->{{PROJECT}}->{{DATASET}}->Dynamic_Costs_Analysis</b> to be created or click Run Now.</li><li>Copy <a href='https://datastudio.google.com/open/1vBvBEiMbqCbBuJTsBGpeg8vCLtg6ztqA' target='_blank'>Dynamic Costs Sample Data ( Copy From This )</a>.</li><li>Click Edit Connection, and Change to <b>BigQuery->{{PROJECT}}->{{DATASET}}->Dynamic_Costs_Analysis</b>.</li><li>Copy <a href='https://datastudio.google.com/open/1xulBAdx95SnvjnUzFP6r14lhkvvVbsP8' target='_blank'>Dynamic Costs Sample Report ( Copy From This )</a>.</li><li>When prompted, choose the new data source you just created.</li><li>Edit the table to include or exclude columns as desired.</li><li>Or, give the dashboard connection intructions to the client.</li>
            </ol>
            <pre class="view_code" id="view_code_dynamic_costs" style="display:none;">[
    {
        &quot;dynamic_costs&quot;: {
            &quot;account&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;name&quot;: &quot;dcm_account&quot;, 
                    &quot;order&quot;: 0
                }
            }, 
            &quot;sheet&quot;: {
                &quot;url&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;configuration_sheet_url&quot;, 
                        &quot;order&quot;: 1
                    }
                }, 
                &quot;range&quot;: &quot;A2:B&quot;, 
                &quot;template&quot;: {
                    &quot;url&quot;: &quot;https://docs.google.com/spreadsheets/d/19J-Hjln2wd1E0aeG3JDgKQN9TVGRLWxIEUQSmmQetJc/edit?usp=sharing&quot;, 
                    &quot;range&quot;: &quot;A1&quot;, 
                    &quot;tab&quot;: &quot;Dynamic Costs&quot;
                }, 
                &quot;tab&quot;: &quot;Dynamic Costs&quot;
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;out&quot;: {
                &quot;auth&quot;: &quot;service&quot;, 
                &quot;dataset&quot;: {
                    &quot;field&quot;: {
                        &quot;default&quot;: &quot;dynamic_costs&quot;, 
                        &quot;kind&quot;: &quot;string&quot;, 
                        &quot;name&quot;: &quot;bigquery_dataset&quot;, 
                        &quot;order&quot;: 2
                    }
                }
            }
        }
    }
]</pre>
          <td>
        </tr>
      
        <tr>
          <td style="vertical-align: top;"><i class="material-icons medium teal-text">add_alert</i></td>
          <td style="vertical-align: top;">
            <span class="trigger_code menu_link waves-effect waves-dark btn-flat grey lighten-3 right" id="trigger_code_floodlight_monitor">JSON</span>
            <h4>Floodlight Monitor</h4>
            <p>TASK: floodlight_monitor</p>
            <p>Monitor floodlight impressions specified in sheet and send email alerts.</p>
            <ol>
              <li>Specify an account_id or account_id:subaccount_id.</li><li>Will copy <a href='https://docs.google.com/spreadsheets/d/1tjF5styxMvFJsNETEa5x2F5DSmqleGl71cmujB7Ier8/edit?usp=sharing'>Floodlight Monitor Sheet</a> to the sheet you specify.</li><li>Follow instructions on sheet.</li><li>Emails are sent once a day.</li>
            </ol>
            <pre class="view_code" id="view_code_floodlight_monitor" style="display:none;">[
    {
        &quot;floodlight_monitor&quot;: {
            &quot;account&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 1, 
                    &quot;description&quot;: &quot;Specify an account_id or account_id:subaccount_id.&quot;, 
                    &quot;name&quot;: &quot;dcm_account&quot;
                }
            }, 
            &quot;sheet&quot;: {
                &quot;field&quot;: {
                    &quot;default&quot;: &quot;&quot;, 
                    &quot;kind&quot;: &quot;string&quot;, 
                    &quot;order&quot;: 2, 
                    &quot;description&quot;: &quot;Full URL to Google Sheet, Floodlight Monitor tab will be added.&quot;, 
                    &quot;name&quot;: &quot;sheet_url&quot;
                }
            }, 
            &quot;template&quot;: {
                &quot;template&quot;: {
                    &quot;range&quot;: &quot;A1&quot;, 
                    &quot;sheet&quot;: &quot;https://docs.google.com/spreadsheets/d/1tjF5styxMvFJsNETEa5x2F5DSmqleGl71cmujB7Ier8/edit?usp=sharing&quot;, 
                    &quot;tab&quot;: &quot;Floodlight Monitor&quot;
                }
            }, 
            &quot;auth&quot;: &quot;user&quot;, 
            &quot;range&quot;: &quot;A2:C&quot;, 
            &quot;tab&quot;: &quot;Floodlight Monitor&quot;
        }
    }
]</pre>
          <td>
        </tr>
      
      </tbody>
    </table>
  

  <br/><br/>
  <h3 id="recipe_help">Need Help With A Recipe?</h3>
  <p class="flow-text">Ask the StarThinker team for advice <a href="mailto:starthinker-help@google.com?subject=Custom+StarThinker+Recipe">starthinker-help@google.com</a></p>

  <p class="">This code is an open source reference implementation and is not an officially supported Google product.</p>


    </div>

    

  </body>

  <footer class="page-footer">
  <div class="footer-copyright">
    <div class="container center">
    &copy; 2018 Google, Inc
    </div>
  </div>
</footer>


  <script type="text/javascript">
    $(document).ready(function() {
      $(".button-collapse").sideNav();
      $('select').material_select();
      $('.modal').modal();
    });
  </script>
  
  <script type="text/javascript">
    $(document).ready(function() {
      $('span.trigger_product').on('click tap', function() {
        $('table.view_product').hide();
        $('#' + this.id.replace('trigger_', 'view_') ).show();
      });
      $('span.trigger_code').on('click tap', function() {
        $('#' + this.id.replace('trigger_', 'view_') ).toggle();
      });
    });
  </script>


</html>
